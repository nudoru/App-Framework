//https://github.com/sasaplus1/deepcopy.js

/*!
 * @license deepcopy.js Copyright(c) 2013 sasa+1
 * https://github.com/sasaplus1/deepcopy.js
 * Released under the MIT license.
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.deepcopy=e()}(this,function(){"use strict";function t(e,u,c,y){var p,s,a,l,b,j,d,g,O,A,h;if(null===e||"object"!=typeof e)return e;if(r.isDate(e))return new Date(+e);if(r.isRegExp(e))return p=String(e),s=p.lastIndexOf("/"),new RegExp(p.slice(1,s),p.slice(s+1));if(n(e))return a=new Buffer(e.length),e.copy(a),a;for(l=o(e).concat(i(e)),b=0,j=l.length;j>b;++b)d=l[b],g=e[d],null!==g&&"object"==typeof g&&(O=f(c,g),-1===O?(A=r.isArray(g)?[]:{},c.push(g),y.push(A)):h=y[O]),u[d]=h||t(g,A,c,y);return u}function deepcopy(e){var n=r.isArray(e)?[]:{},o=[e],i=[n];return t(e,n,o,i)}var e,r,n,o,i,f;return e="undefined"!=typeof process&&"undefined"!=typeof require,r=e?require("util"):function(){function t(t){return"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function n(t){return"symbol"==typeof t}return{isArray:"function"==typeof Array.isArray?function(t){return Array.isArray(t)}:t,isDate:e,isRegExp:r,isSymbol:"function"==typeof Symbol?n:function(){return!1}}}(),n=e?function(t){return Buffer.isBuffer(t)}:function(){return!1},o="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e,r=[];if(null===t||"object"!=typeof t)throw new TypeError("obj is not an Object");for(e in t)t.hasOwnProperty(e)&&r.push(e);return r},i="function"==typeof Symbol?function(t){return Object.getOwnPropertySymbols(t)}:function(){return[]},f="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){var n,o;if(!r.isArray(t))throw new TypeError("array is not an Array");for(n=0,o=t.length;o>n;++n)if(t[n]===e)return n;return-1},deepcopy});