/*! app-framework 20-08-2015 */
define("nudoru/component/ComponentEvents",function(a,b){var c=a("nudoru/core/ObjectUtils");_.merge(b.exports,c.keyMirror({MODAL_COVER_SHOW:null,MODAL_COVER_HIDE:null,MENU_SELECT:null}))}),define("nudoru/component/MessageBoxCreator",function(a,b){var c=function(){function b(a,b,c,d){return f.add({title:a,content:"<p>"+b+"</p>",type:f.type().DANGER,modal:c,width:400,buttons:[{label:"Close",id:"Close",type:"",icon:"times",onClick:d}]})}function c(a,b,c,d){return f.add({title:a,content:"<p>"+b+"</p>",type:f.type().DEFAULT,modal:d,width:400,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"Proceed",id:"proceed",type:"positive",icon:"check",onClick:c}]})}function d(a,b,c,d){return f.add({title:a,content:'<p class="text-center padding-bottom-double">'+b+'</p><textarea name="response" class="input-text" type="text" style="width:400px; height:75px; resize: none" autofocus="true"></textarea>',type:f.type().DEFAULT,modal:d,width:450,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"Proceed",id:"proceed",type:"positive",icon:"check",onClick:c}]})}function e(a,b,c,d,e){var g='<select class="spaced" style="width:450px;height:200px" name="selection" autofocus="true" size="20">';return c.forEach(function(a){g+='<option value="'+a.value+'" '+("true"===a.selected?"selected":"")+">"+a.label+"</option>"}),g+="</select>",f.add({title:a,content:'<p class="text-center padding-bottom-double">'+b+'</p><div class="text-center">'+g+"</div>",type:f.type().DEFAULT,modal:e,width:500,buttons:[{label:"Cancel",id:"Cancel",type:"negative",icon:"times"},{label:"OK",id:"ok",type:"positive",icon:"check",onClick:d}]})}var f=a("nudoru/component/MessageBoxView");return{alert:b,confirm:c,prompt:d,choice:e}};b.exports=c()}),define("nudoru/component/MessageBoxView",function(a,b){var c=function(){function b(a){p=document.getElementById(a)}function c(a){var b=a.type||u.DEFAULT,c=e(a);return q.push(c),p.appendChild(c.element),d(b,c.element),f(c),C.applyUnique3DToElement(c.element),TweenLite.set(c.element,{css:{zIndex:s,width:a.width?a.width:t}}),B.centerElementInViewPort(c.element),Draggable.create("#"+c.id,{bounds:window,onPress:function(){s=Draggable.zIndex}}),i(c.element),a.modal&&z.showNonDismissable(!0),c.id}function d(a,b){"default"!==a&&B.addClass(b,v[a])}function e(a){var b="js__messagebox-"+(r++).toString(),c={dataObj:a,id:b,modal:a.modal,element:y.asElement("template__messagebox--default",{id:b,title:a.title,content:a.content}),streams:[]};return c}function f(a){var b=a.dataObj.buttons;b||(b=[{label:"Close",type:"",icon:"times",id:"default-close"}]);var c=a.element.querySelector(".footer-buttons");B.removeAllElements(c),b.forEach(function(b){b.id=a.id+"-button-"+b.id;var d;d=b.hasOwnProperty("icon")?y.asElement(w,b):y.asElement(x,b),c.appendChild(d);var e=Rx.Observable.fromEvent(d,A.mouseClickEvtStr()).subscribe(function(){b.hasOwnProperty("onClick")&&b.onClick&&b.onClick.call(this,g(a.id)),h(a.id)});a.streams.push(e)})}function g(a){return B.captureFormData(n(a).element)}function h(a){var b,c=m(a);c>-1&&(b=q[c],j(b.element))}function i(a){TweenLite.to(a,0,{alpha:0,rotationX:45,scale:2}),TweenLite.to(a,.5,{alpha:1,rotationX:0,scale:1,ease:Circ.easeOut})}function j(a){TweenLite.to(a,.25,{alpha:0,rotationX:-45,scale:.25,ease:Circ.easeIn,onComplete:function(){k(a)}})}function k(a){var b=m(a.getAttribute("id")),c=q[b];c.streams.forEach(function(a){a.dispose()}),Draggable.get("#"+c.id).disable(),p.removeChild(a),q[b]=null,q.splice(b,1),l()}function l(){var a=!1;q.forEach(function(b){b.modal===!0&&(a=!0)}),a||z.hide(!0)}function m(a){return q.map(function(a){return a.id}).indexOf(a)}function n(a){return q.filter(function(b){return b.id===a})[0]}function o(){return u}var p,q=[],r=0,s=1e3,t=400,u={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},v={"default":"",information:"messagebox__information",success:"messagebox__success",warning:"messagebox__warning",danger:"messagebox__danger"},w="template__messagebox--button-icon",x="template__messagebox--button-noicon",y=a("nori/utils/Templating"),z=a("nudoru/component/ModalCoverView"),A=a("nudoru/browser/BrowserInfo"),B=a("nudoru/browser/DOMUtils"),C=a("nudoru/browser/ThreeDTransforms");return{initialize:b,add:c,remove:h,type:o}};b.exports=c()}),define("nudoru/component/ModalCoverView",function(a,b){var c=function(){function b(){o=!0,k=q.getElementById("modal__cover"),l=q.querySelector(".modal__background"),m=q.querySelector(".modal__close-button");var a=Rx.Observable.fromEvent(l,r.mouseClickEvtStr()),b=Rx.Observable.fromEvent(m,r.mouseClickEvtStr());n=Rx.Observable.merge(a,b).subscribe(function(){d()}),h(!1)}function c(){return o}function d(){p||h(!0)}function e(a){o=!0;var b=a?.25:0;TweenLite.to(k,b,{autoAlpha:1,ease:Quad.easeOut}),TweenLite.to(l,b,{alpha:1,ease:Quad.easeOut})}function f(a){o||(p=!1,e(a),TweenLite.set(m,{scale:2,alpha:0}),TweenLite.to(m,1,{autoAlpha:1,scale:1,ease:Bounce.easeOut,delay:1}))}function g(a){o||(p=!0,e(a),TweenLite.to(m,0,{autoAlpha:0}))}function h(a){if(o){o=!1,p=!1;var b=a?.25:0;TweenLite.killDelayedCallsTo(m),TweenLite.to(k,b,{autoAlpha:0,ease:Quad.easeOut}),TweenLite.to(m,b/2,{autoAlpha:0,ease:Quad.easeOut})}}function i(a){(0>a||a>1)&&(console.log("nudoru/component/ModalCoverView: setOpacity: opacity should be between 0 and 1"),a=1),TweenLite.to(l,.25,{alpha:a,ease:Quad.easeOut})}function j(a,b,c){TweenLite.to(l,.25,{backgroundColor:"rgb("+a+","+b+","+c+")",ease:Quad.easeOut})}var k,l,m,n,o,p,q=document,r=a("nudoru/browser/BrowserInfo");return{initialize:b,show:f,showNonDismissable:g,hide:h,visible:c,setOpacity:i,setColor:j}};b.exports=c()}),define("nudoru/component/ToastView",function(a,b){var c=function(){function b(a){m=document.getElementById(a)}function c(a){a.type=a.type||q.DEFAULT;var b=e(a.title,a.message);n.push(b),m.insertBefore(b.element,m.firstChild),d(a.type,b.element),v.apply3DToContainer(m),v.apply3DToElement(b.element);var c=b.element.querySelector(".toast__item-controls > button"),h=Rx.Observable.fromEvent(c,t.mouseClickEvtStr()),i=Rx.Observable.interval(p);return b.defaultButtonStream=Rx.Observable.merge(h,i).take(1).subscribe(function(){f(b.id)}),g(b.element),b.id}function d(a,b){"default"!==a&&u.addClass(b,r[a])}function e(a,b){var c="js__toast-toastitem-"+(o++).toString(),d={id:c,element:s.asElement("template__component--toast",{id:c,title:a,message:b}),defaultButtonStream:null};return d}function f(a){var b,c=k(a);c>-1&&(b=n[c],j(c),h(b.element))}function g(a){TweenLite.to(a,0,{alpha:0}),TweenLite.to(a,1,{alpha:1,ease:Quad.easeOut}),j()}function h(a){TweenLite.to(a,.25,{rotationX:-45,alpha:0,ease:Quad.easeIn,onComplete:function(){i(a)}})}function i(a){var b=k(a.getAttribute("id")),c=n[b];c.defaultButtonStream.dispose(),m.removeChild(a),n[b]=null,n.splice(b,1)}function j(a){for(var b,c=n.length-1,d=0;c>-1;c--)c!==a&&(b=n[c],TweenLite.to(b.element,.75,{y:d,ease:Bounce.easeOut}),d+=10+b.element.clientHeight)}function k(a){return n.map(function(a){return a.id}).indexOf(a)}function l(){return q}var m,n=[],o=0,p=7e3,q={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},r={"default":"",information:"toast__information",success:"toast__success",warning:"toast__warning",danger:"toast__danger"},s=a("nori/utils/Templating"),t=a("nudoru/browser/BrowserInfo"),u=a("nudoru/browser/DOMUtils"),v=a("nudoru/browser/ThreeDTransforms");return{initialize:b,add:c,remove:f,type:l}};b.exports=c()}),define("nudoru/component/ToolTipView",function(a,b){var c=function(){function b(a){t=document.getElementById(a)}function c(a){a.type=a.type||x.DEFAULT;var b=e(a.title,a.content,a.position,a.targetEl,a.gutter,a.alwaysVisible);return u.push(b),t.appendChild(b.element),b.arrowEl=b.element.querySelector(".arrow"),d(a.type,a.position,b.element),TweenLite.set(b.element,{css:{autoAlpha:b.alwaysVisible?1:0,width:a.width?a.width:w}}),b.width=b.element.getBoundingClientRect().width,b.height=b.element.getBoundingClientRect().height,f(b),h(b),(b.position===z.L||b.position===z.R)&&j(b),(b.position===z.T||b.position===z.B)&&i(b),b.element}function d(a,b,c){"default"!==a&&C.addClass(c,y[a]),C.addClass(c,A[b])}function e(a,b,c,d,e,f){var g="js__tooltip-tooltipitem-"+(v++).toString(),h={id:g,position:c,targetEl:d,alwaysVisible:f||!1,gutter:e||15,elOverStream:null,elOutStream:null,height:0,width:0,element:B.asElement("template__component--tooltip",{id:g,title:a,message:b}),arrowEl:null};return h}function f(a){a.alwaysVisible||(a.elOverStream=Rx.Observable.fromEvent(a.targetEl,"mouseover").subscribe(function(){g(a.id)}),a.elOutStream=Rx.Observable.fromEvent(a.targetEl,"mouseout").subscribe(function(){k(a.id)}))}function g(a){var b=o(a);b.alwaysVisible||(h(b),l(b.element))}function h(a){var b=a.gutter,c=0,d=0,e=a.targetEl.getBoundingClientRect();a.position===z.TL?(c=e.left-a.width,d=e.top-a.height):a.position===z.T?(c=e.left+(e.width/2-a.width/2),d=e.top-a.height-b):a.position===z.TR?(c=e.right,d=e.top-a.height):a.position===z.R?(c=e.right+b,d=e.top+(e.height/2-a.height/2)):a.position===z.BR?(c=e.right,d=e.bottom):a.position===z.B?(c=e.left+(e.width/2-a.width/2),d=e.bottom+b):a.position===z.BL?(c=e.left-a.width,d=e.bottom):a.position===z.L&&(c=e.left-a.width-b,d=e.top+(e.height/2-a.height/2)),TweenLite.set(a.element,{x:c,y:d})}function i(a){var b=a.arrowEl.getBoundingClientRect();TweenLite.set(a.arrowEl,{x:a.width/2-b.width/2})}function j(a){var b=a.arrowEl.getBoundingClientRect();TweenLite.set(a.arrowEl,{y:a.height/2-b.height/2-2})}function k(a){var b=o(a);b.alwaysVisible||m(b.element)}function l(a){TweenLite.to(a,.5,{autoAlpha:1,ease:Circ.easeOut})}function m(a){TweenLite.to(a,.05,{autoAlpha:0,ease:Circ.easeOut})}function n(a){q(a).forEach(function(a){a.elOverStream&&a.elOverStream.dispose(),a.elOutStream&&a.elOutStream.dispose(),TweenLite.killDelayedCallsTo(a.element),t.removeChild(a.element);var b=p(a.id);u[b]=null,u.splice(b,1)})}function o(a){return u.filter(function(b){return b.id===a})[0]}function p(a){return u.map(function(a){return a.id}).indexOf(a)}function q(a){return u.filter(function(b){return b.targetEl===a})}function r(){return x}function s(){return z}var t,u=[],v=0,w=200,x={DEFAULT:"default",INFORMATION:"information",SUCCESS:"success",WARNING:"warning",DANGER:"danger",COACHMARK:"coachmark"},y={"default":"",information:"tooltip__information",success:"tooltip__success",warning:"tooltip__warning",danger:"tooltip__danger",coachmark:"tooltip__coachmark"},z={T:"T",TR:"TR",R:"R",BR:"BR",B:"B",BL:"BL",L:"L",TL:"TL"},A={T:"tooltip__top",TR:"tooltip__topright",R:"tooltip__right",BR:"tooltip__bottomright",B:"tooltip__bottom",BL:"tooltip__bottomleft",L:"tooltip__left",TL:"tooltip__topleft"},B=a("nori/utils/Templating"),C=a("nudoru/browser/DOMUtils");return{initialize:b,add:c,remove:n,type:r,position:s}};b.exports=c()});