/*! app-framework 05-08-2015 */
define("Nori.Utils.Dispatcher",function(a,b,c){function d(a,b,c,d){var e=window;if(falsey(a))throw new Error("Fasley event string passed for handler",b);if(falsey(b))throw new Error("Fasley handler passed for event string",a);(c||c===!1)&&(c===!0||c===!1?d=c:e=c),k[a]||(k[a]=[]);var f=new Rx.Subject;return k[a].push({once:d,priority:0,handler:b,context:e,subject:f,type:0}),f.subscribe(b.bind(e))}function e(a){i(a);var b,c=k[a.type];if(c)for(n.push(a),b=c.length;b--;){var d=c[b];0===d.type&&d.subject.onNext(a),d.once&&f(a.type,d.handler)}}function f(a,b){if(void 0!==k[a]){for(var c=k[a],d=-1,e=0,f=c.length;f>e;e++)c[e].handler===b&&(d=e,c[e].subject.onCompleted(),c[e].subject.dispose(),c[e]=null);-1!==d&&(c.splice(d,1),0===c.length&&delete k[a])}}function g(){return n.slice(0)}function h(a){var b="ID_"+m++;return l[b]={id:b,handler:a},b}function i(a){for(var b in l)l[b].handler(a)}function j(a){l.hasOwnProperty(a)&&delete l[a]}var k={},l={},m=0,n=[];c.subscribe=d,c.unsubscribe=f,c.publish=e,c.getLog=g,c.registerReceiver=h,c.unregisterReceiver=j}),define("Nori.Utils.Router",function(a,b,c){function d(){window.addEventListener("hashchange",f,!1)}function e(a,b){n[a]={templateID:b.templateID,controller:b.controller}}function f(){p.urlHashChanged({routeObj:g(),fragment:l()})}function g(){var a=l(),b=a.split("?"),c="/"+b[0],d=decodeURIComponent(b[1]),e=i(d);return"=undefined"===d&&(d="",e={}),{route:c,data:e}}function h(){var a=g();j(a.route,a.data)}function i(a){var b={},c=a.split("&");return c.forEach(function(a){var c=a.split("=");b[c[0]]=c[1]}),b}function j(a,b){var c=n[a];c?c.controller.call(window,{route:a,templateID:c.templateID,queryData:b}):console.log('No Route mapped for: "'+a+'"')}function k(a,b){var c=a,d=[];if(!o.isNull(b)){c+="?";for(var e in b)"undefined"!==e&&b.hasOwnProperty(e)&&d.push(e+"="+encodeURIComponent(b[e]));c+=d.join("&")}console.log("Router, setting URL fragment to: ",c),m(c)}function l(){var a=location.hash.slice(1);return a.toString().replace(/\/$/,"").replace(/^\//,"")}function m(a){window.location.hash=a}var n=Object.create(null),o=a("Nudoru.Core.ObjectUtils"),p=a("Nori.Events.NoriEventCreator");c.initialize=d,c.when=e,c.getCurrentRoute=g,c.runCurrentRoute=h,c.setRoute=k}),define("Nori.Utils.Templating",function(a,b,c){function d(a){if(i[a])return i[a];var b,c,d=document.getElementById(a);if(!d)throw new Error('Nudoru.Core.NTemplate, template not found: "'+a+'"');return b=d.innerHTML,c=h(b),i[a]=c,c}function e(a){if(j[a])return j[a];var b=_.template(d(a));return j[a]=b,b}function f(a,b){var c=e(a);return c(b)}function g(a,b){return k.HTMLStrToNode(f(a,b))}function h(a){return a.trim()}var i=Object.create(null),j=Object.create(null),k=a("Nudoru.Browser.DOMUtils");c.getSource=d,c.getTemplate=e,c.asHTML=f,c.asElement=g}),define("Nori.Events.NoriEventConstants",function(a,b,c){var d=a("Nudoru.Core.ObjectUtils");_.merge(c,d.keyMirror({APP_INITIALIZED:null,APP_MODEL_INITIALIZED:null,APP_VIEW_INITIALIZED:null,ALERT_USER:null,WARN_USER:null,NOTIFY_USER:null,MODEL_DATA_WAITING:null,MODEL_DATA_READY:null,MODEL_DATA_CHANGED:null,MODEL_DATA_SAVED:null,MODEL_DATA_DESTROYED:null,UPDATE_MODEL_DATA:null,RESUME_FROM_MODEL_STATE:null,VIEW_INITIALIZED:null,VIEW_RENDERED:null,VIEW_CHANGED:null,VIEW_CHANGE_TO_MOBILE:null,VIEW_CHANGE_TO_DESKTOP:null,ROUTE_CHANGED:null,CHANGE_ROUTE:null,SUBVIEW_STORE_STATE:null,RENDER_VIEW:null}))}),define("Nori.Events.NoriEventCreator",function(a,b,c){var d=a("Nori.Utils.Dispatcher"),e=a("Nori.Events.NoriEventConstants"),f=a("Nudoru.Browser.BrowserEventConstants");c.applicationInitialized=function(a){d.publish({type:e.APP_INITIALIZED,payload:a})},c.notifyUser=function(a,b,c){d.publish({type:e.NOTIFY_USER,payload:{title:a,message:b,type:c||"default"}})},c.alertUser=function(a,b,c){d.publish({type:e.ALERT_USER,payload:{title:a,message:b,type:c||"default"}})},c.warnUser=function(a,b,c){d.publish({type:e.WARN_USER,payload:{title:a,message:b,type:c||"danger"}})},c.applicationModelInitialized=function(a){d.publish({type:e.APP_MODEL_INITIALIZED,payload:a})},c.applicationViewInitialized=function(a){d.publish({type:e.APP_VIEW_INITIALIZED,payload:a})},c.urlHashChanged=function(a){d.publish({type:f.URL_HASH_CHANGED,payload:a})},c.viewChanged=function(a){d.publish({type:e.VIEW_CHANGED,payload:a})},c.routeChanged=function(a){d.publish({type:e.ROUTE_CHANGED,payload:a})},c.updateModelData=function(a,b){d.publish({type:e.UPDATE_MODEL_DATA,payload:{id:a,data:b}})},c.modelChanged=function(a){d.publish({type:e.MODEL_DATA_CHANGED,payload:a})},c.renderView=function(a,b,c,f){d.publish({type:e.RENDER_VIEW,payload:{target:a,html:b,id:c,callback:f}})},c.viewRendered=function(a,b){d.publish({type:e.VIEW_RENDERED,payload:{target:a,id:b}})}}),define("Nori.Model.ApplicationModel",function(a,b,c){function d(){l=this}function e(){if(!l)throw new Error("Nori.Model.ApplicationModel, cannot subscribeToModelEvents() without initializeApplicationModel() first");p.subscribe(o.MODEL_DATA_CHANGED,function(a){l.handleModelDataChanged(a)}),p.subscribe(o.UPDATE_MODEL_DATA,function(a){l.handleUpdateModelData(a)})}function f(a){console.log("AM, handlemodeldatachange",a)}function g(a){console.log("AM, handleupdatemodeldata",a)}function h(a,b){var c=Nori.extendWithArray({},[requireNew("Nori.Model.MapCollection"),b]);return c.initialize(a),m[a.id]=c,c}function i(a,b){var c=Nori.extendWithArray({},[requireNew("Nori.Model.Map"),b]);return c.initialize(a),n[a.id]=c,c}function j(a){return n[a]}function k(a){return m[a]}var l,m=Object.create(null),n=Object.create(null),o=a("Nori.Events.NoriEventConstants"),p=a("Nori.Utils.Dispatcher");c.initializeApplicationModel=d,c.subscribeToModelEvents=e,c.handleModelDataChanged=f,c.handleUpdateModelData=g,c.createMapCollection=h,c.createMap=i,c.getMap=j,c.getMapCollection=k}),define("Nori.Model.Map",function(a,b,c){function d(a){if(!a.id)throw new Error("Model must be init'd with an id");D=a.id,I=a.silent||!1,a.store?(F=!0,H=a.store):a.json&&e(a.json)}function e(a){F=!0;try{H=JSON.parse(a)}catch(b){throw new Error("MapCollection, error parsing JSON:",a,b)}}function f(){return D}function g(){H={},F=!0}function h(){return F}function i(){F=!1}function j(a,b){var c=!1;"object"==typeof a?(null!==b&&"object"==typeof b&&(c=b.silent||!1),H=_.merge({},H,a)):H[a]=b,F=!0,c||z("set_key")}function k(a,b,c){H[a][b]=c,F=!0,z("set_key")}function l(a){var b=n(a)?H[a]:void 0;return b&&(b=_.cloneDeep(b)),b}function m(a,b){var c=n(a)?H[a]:void 0,d=null;return c&&(d=_.cloneDeep(c[b])),d}function n(a){return H.hasOwnProperty(a)}function o(){if(!F&&G)return G;var a=[];for(var b in H)a.push({key:b,value:H[b]});return G=a,F=!1,a}function p(){return q().length}function q(){return Object.keys(H)}function r(){return o().map(function(a){return a.value})}function s(a){delete H[a]}function t(a){return r().filter(a)}function u(){return o()[0]}function v(){var a=o();return a[a.length-1]}function w(a){return o()[a]}function x(){return _.merge({},H)}function y(a){var b=Object.create(null);for(var c in a)H.hasOwnProperty(c)&&(b[a[c]]=H[c]);return b}function z(a){a=a||"map",I||J.modelChanged({id:D,mapType:"model"}),E.dispatchChange&&E.dispatchChange({id:D},a)}function A(){return JSON.stringify(H)}function B(a){E=a}function C(){return E}var D,E,F=!1,G=[],H=Object.create(null),I=!1,J=a("Nori.Events.NoriEventCreator");c.initialize=d,c.getID=f,c.clear=g,c.isDirty=h,c.markClean=i,c.setJSON=e,c.set=j,c.setKeyProp=k,c.get=l,c.getKeyProp=m,c.has=n,c.remove=s,c.keys=q,c.values=r,c.entries=o,c.filterValues=t,c.size=p,c.getFirst=u,c.getLast=v,c.getAtIndex=w,c.toObject=x,c.transform=y,c.toJSON=A,c.setParentCollection=B,c.getParentCollection=C}),define("Nori.Model.MapCollection",function(a,b,c){function d(a){if(!a.id)throw new Error("ModelCollection must be init'd with an id");D=this,E=a.id,G=a.silent||!1,a.models&&g.call(D,a.models)}function e(){var a=!1;return x(function(b){b.isDirty()&&(a=!0)}),a}function f(){x(function(a){a.markClean()})}function g(a){a.forEach(function(a){k(a)})}function h(a,b,c){a.forEach(function(a){var d;d=a.hasOwnProperty(b)?a[b]:E+"child"+F.length,k(Nori.model().createMap({id:d,silent:c,store:a}))}),p(E,"add_map")}function i(a,b,c){a.forEach(function(a){var d,e;try{e=JSON.parse(a)}catch(f){throw new Error("MapCollection, error parsing JSON:",a,f)}d=e.hasOwnProperty(b)?e[b]:E+"child"+F.length,k(Nori.model().createMap({id:d,silent:c,store:e}))}),p(E,"add_map")}function j(){return E}function k(a){var b=o(a.getID());a.setParentCollection(D),b>=0?F[b]=a:F.push(a),p(E,"add_map")}function l(a){var b=o(a);b>=0?(F[b].setParentCollection(null),F[b]=null,F.splice(b,1),p(E,"remove_map")):console.log(E+" remove, model not in collection: "+a)}function m(){F.forEach(function(a){a.setParentCollection(null)}),F=[],p(E,"remove_map")}function n(a){return F.filter(function(b){return b.getID()===a})[0]}function o(a){return F.map(function(a){return a.getID()}).indexOf(a)}function p(a,b){G||(b=b||"",H.modelChanged({id:E,type:b,mapType:"collection",mapID:a.id}))}function q(a){return F[a]}function r(){return F.length}function s(){return F[0]}function t(){return F[F.length-1]}function u(a){return F[a]}function v(a){return F.filter(a)}function w(a,b){return F.filter(function(c){return c.get(a)===b})}function x(a){return F.forEach(a)}function y(a){return F.map(a)}function z(){var a=[];return F.forEach(function(b){a.push(b.entries())}),a}function A(){return JSON.stringify(F)}function B(a){_parentCollection=a}function C(){return _parentCollection}var D,E,F=[],G=!1,H=a("Nori.Events.NoriEventCreator");c.initialize=d,c.getID=j,c.isDirty=e,c.markClean=f,c.add=k,c.addMapsFromArray=g,c.addFromObjArray=h,c.addFromJSONArray=i,c.remove=l,c.removeAll=m,c.getMap=n,c.hasMap=q,c.size=r,c.getFirst=s,c.getLast=t,c.getAtIndex=u,c.filter=v,c.filterByKey=w,c.forEach=x,c.map=y,c.entries=z,c.toJSON=A,c.dispatchChange=p,c.setParentCollection=B,c.getParentCollection=C}),define("Nori.View.ApplicationSubView",function(a,b,c){function d(a){u()||(E=a,F=a.id,G=a.template,J=a.mountPoint),this.update(),K=!0}function e(a){Nori.bindToMap(a,this.getID())}function f(a){M.push(a)}function g(a){var b=M.indexOf(a);M[b].dispose(),M.splice(b,1)}function h(){}function i(){var a=_.merge({},this.getState());this.viewWillUpdate(),M.forEach(function(a){a.update()}),N&&this.viewShouldRender(a)&&(this.unmount(),this.render(),this.mount()),this.viewDidUpdate()}function j(){return!0}function k(){}function l(){}function m(){this.viewWillRender&&this.viewWillRender(),M.forEach(function(a){a.render()}),H=G(L),this.viewDidRender&&this.viewDidRender()}function n(){}function o(){}function p(){if(!H)throw new Error("SubView "+F+" cannot mount with no HTML. Call render() first");this.viewWillMount&&this.viewWillMount(),N=!0,O.renderView(J,H,F,function(a){A(a),this.delegateEvents&&this.delegateEvents()}.bind(this)),this.viewDidMount&&this.viewDidMount()}function q(){}function r(){}function s(){this.viewWillUnmount(),N=!1,O.renderView(J,"",F),this.undelegateEvents&&this.undelegateEvents(),A(null),this.viewDidUnmount()}function t(){}function u(){return K}function v(a){L=a}function w(){return _.cloneDeep(L)}function x(){return F}function y(){return G}function z(){return I}function A(a){I=a}function B(){return H}function C(a){H=a}function D(){return M.slice(0)}var E,F,G,H,I,J,K=!1,L={},M=[],N=!1,O=a("Nori.Events.NoriEventCreator");c.initializeSubView=d,c.isInitialized=u,c.setState=v,c.getState=w,c.getID=x,c.getTemplate=y,c.getHTML=B,c.setHTML=C,c.getDOMElement=z,c.setDOMElement=A,c.bindMap=e,c.viewWillUpdate=h,c.update=i,c.viewDidUpdate=k,c.viewShouldRender=j,c.viewWillRender=l,c.render=m,c.viewDidRender=n,c.viewWillMount=o,c.mount=p,c.viewDidMount=q,c.viewWillUnmount=r,c.unmount=s,c.viewDidUnmount=t,c.addChild=f,c.removeChild=g,c.getChildren=D}),define("Nori.View.ApplicationView",function(a,b,c){function d(){return s}function e(){return t}function f(a){r=this,u.initialize(),g(a),h(),i()}function g(a){if(a){var b=document.querySelector("body");a.forEach(function(a){b.appendChild(v.HTMLStrToNode(r.template().getSource("template__"+a,{})))})}}function h(){s=document.getElementById("app__container"),t=document.getElementById("app__contents")}function i(){x.initialize("tooltip__container"),w.initialize("toast__container"),y.initialize("messagebox__container"),A.initialize()}function j(){}function k(){return z}function l(a){return y.add(a)}function m(a){y.remove(a)}function n(a,b){return k().alert(b||"Alert",a)}function o(a){return w.add(a)}function p(a,b,c){return o({title:b||"",type:c||w.type().DEFAULT,message:a})}function q(){var a=document.querySelector("#initialization__cover"),b=document.querySelector(".initialization__message");TweenLite.to(a,1,{alpha:0,ease:Quad.easeOut,onComplete:function(){a.parentNode.removeChild(a)}}),TweenLite.to(b,2,{top:"+=50px",ease:Quad.easeIn,onComplete:function(){a.removeChild(b)}})}var r,s,t,u=a("Nori.View.Renderer"),v=a("Nudoru.Browser.DOMUtils"),w=a("Nudoru.Component.ToastView"),x=a("Nudoru.Component.ToolTipView"),y=a("Nudoru.Component.MessageBoxView"),z=a("Nudoru.Component.MessageBoxCreator"),A=a("Nudoru.Component.ModalCoverView");c.initializeApplicationView=f,c.initializeApplicationElements=h,c.initializeComponents=i,c.mbCreator=k,c.addMessageBox=l,c.removeMessageBox=m,c.addNotification=o,c.alert=n,c.notify=p,c.removeLoadingMessage=q,c.layoutUI=j,c.getAppContainerEl=d,c.getAppEl=e}),define("Nori.View.Renderer",function(a,b,c){function d(){h.subscribe(g.RENDER_VIEW,e)}function e(a){var b,c=a.payload.target,d=a.payload.html,e=document.querySelector(c),g=a.payload.callback;e.innerHTML="",d&&(b=i.HTMLStrToNode(d),e.appendChild(b)),g&&g(b),f.viewRendered(c,a.payload.id)}var f=a("Nori.Events.NoriEventCreator"),g=a("Nori.Events.NoriEventConstants"),h=a("Nori.Utils.Dispatcher"),i=a("Nudoru.Browser.DOMUtils");c.initialize=d}),define("Nori.View.ViewMixinBrowserEvents",function(a,b,c){function d(){l(),n(),f()}function e(a){u=a}function f(){var a=Rx.Observable.fromEvent(window,"resize"),b=Rx.Observable.fromEvent(_mainScrollEl,"scroll");r=Rx.Observable.merge(a,b).subscribe(function(){o()}),t=Rx.Observable.fromEvent(window,"resize").throttle(100).subscribe(function(){i()}),s=Rx.Observable.fromEvent(_mainScrollEl,"scroll").throttle(100).subscribe(function(){j()})}function g(){return _mainScrollEl}function h(a){_mainScrollEl=document.getElementById(a)}function i(){v.publish(w.BROWSER_RESIZED,p)}function j(){v.publish(w.BROWSER_SCROLLED,q)}function k(){return p}function l(){p={width:window.innerWidth,height:window.innerHeight}}function m(){return q}function n(){var a=_mainScrollEl?_mainScrollEl:document.body,b=a.scrollLeft,c=a.scrollTop;b=b?b:0,c=c?c:0,q={left:b,top:c}}function o(){n(),l(),u.call(this,p,q)}var p,q,r,s,t,u,v=a("Nori.Utils.Dispatcher"),w=a("Nudoru.Browser.BrowserEventConstants");c.initializeEventStreams=d,c.setPositionUIElementsOnChangeCB=e,c.getMainScrollingView=g,c.setMainScrollingView=h,c.getCurrentViewPortSize=k,c.getCurrentViewPortScroll=m}),define("Nori.View.ViewMixinEventDelegator",function(a,b,c){function d(a){h=a}function e(){return h}function f(){if(h){i=Object.create(null);for(var a in h)if(h.hasOwnProperty(a)){var b=a.split(",");b.forEach(function(b){b=b.trim();var c=b.split(" ")[0].trim(),d=b.split(" ")[1].trim(),e=document.querySelector(d);e?i[a]=Rx.Observable.fromEvent(e,c).subscribe(h[a]):console.log("Cannot add event to invalid DOM element: "+d)})}}}function g(){if(h){for(var a in i)i[a].dispose(),delete i[a];i=Object.create(null)}}var h,i;c.setEvents=d,c.getEvents=e,c.undelegateEvents=g,c.delegateEvents=f}),define("Nori.View.ViewMixinMultiDevice",function(a,b,c){function d(){s=!1,t=750,u=475,v=250,w=!1,q=document.getElementById("app__contents"),n=document.getElementById("drawer"),o=document.querySelector(".drawer__menu-spinner-button > input"),n&&TweenLite.to(n,0,{x:-1*v}),e(),f()}function e(){r=Rx.Observable.fromEvent(window,"resize").throttle(10).subscribe(function(){f()}),o&&(p=Rx.Observable.fromEvent(o,"change").subscribe(function(){k()}))}function f(){g(),h()}function g(){x={width:window.innerWidth,height:window.innerHeight}}function h(){x.width<=t||z.mobile.any()?i():x.width>t&&j()}function i(){s||(s=!0,A.publish(y.VIEW_CHANGE_TO_MOBILE))}function j(){s&&(s=!1,m(),A.publish(y.VIEW_CHANGE_TO_DESKTOP))}function k(){w?m():l()}function l(){w=!0,TweenLite.to(n,.5,{x:0,ease:Quad.easeOut}),TweenLite.to(q,.5,{x:v,ease:Quad.easeOut})}function m(){w=!1,TweenLite.to(n,.5,{x:-1*v,ease:Quad.easeOut}),TweenLite.to(q,.5,{x:0,ease:Quad.easeOut})}var n,o,p,q,r,s,t,u,v,w,x,y=a("Nori.Events.NoriEventConstants"),z=a("Nudoru.Browser.BrowserInfo"),A=a("Nudoru.events.EventDispatcher");c.initializeMultiDeviceView=d,c.openDrawer=l,c.closeDrawer=m,c.checkForMobile=h}),define("Nori.View.ViewMixinSubViewRoutes",function(a,b,c){function d(a){p=a}function e(){return r}function f(a,b,c,d){"string"==typeof b&&(b=requireNew(b)),s[a]={htmlTemplate:r.getTemplate(t+a),controller:g(b),isRouteView:c,mountPoint:d}}function g(a){return Nori.extendWithArray({},[requireNew("Nori.View.ApplicationSubView"),requireNew("Nori.View.ViewMixinEventDelegator"),a])}function h(a,b){f(a,b,!0,p)}function i(a,b){var c=s[a];if(!c)throw new Error("No subview mapped for id: "+a);c.controller=Nori.extendWithArray(c.controller,b)}function j(a){var b=s[a];b.controller.update&&b.controller.update()}function k(a){var b=s[a];if(!b)throw new Error("No subview mapped for id: "+a);b.controller.initialize({id:a,template:b.htmlTemplate,mountPoint:b.mountPoint}),b.controller.update(),b.controller.render(),b.controller.mount()}function l(a){m(),q=a.templateID,k(q),TweenLite.set(p,{alpha:0}),TweenLite.to(p,.25,{alpha:1,ease:Quad.easeIn}),u.viewChanged(q)}function m(){q&&s[q].controller.unmount(),q=""}function n(a,b,c){f(a,b,!1,c)}function o(a){k(a)}var p,q,r=a("Nori.Utils.Templating"),s=Object.create(null),t="template__",u=a("Nori.Events.NoriEventCreator");c.setRouteViewMountPoint=d,c.template=e,c.createSubView=g,c.createComponent=n,c.renderComponent=o,c.mapView=f,c.showView=k,c.mapRouteView=h,c.showRouteView=l,c.updateView=j,c.extendSubViewController=i});var Nori=function(){function a(){return G}function b(){return H}function c(){return z}function d(){return A}function e(){return F.extend({},y)}function f(){return _.merge({},y.currentRoute)}function g(a){h(),H.initialize(),A=a.view?a.view:x({}),z=a.model?a.model:w({}),i(),C.applicationInitialized()}function h(){y={appConfig:window.APP_CONFIG_DATA||{},routes:[],currentRoute:{route:"/",data:void 0}}}function i(){G.subscribe(D.MODEL_DATA_CHANGED,function(a){m(a.payload)}),G.subscribe(E.URL_HASH_CHANGED,function(a){q(a.payload.routeObj)}),G.subscribe(D.CHANGE_ROUTE,function(a){a.payload.fromApp=!0,q(a.payload)})}function j(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b}function k(a,b,c){return function(d){d=d||event;var e=d.currentTarget||this,f=c||this;b.call(f,a in e?e[a]:e.getAttribute(a))}}function l(a,b){if(!a||!b)throw new Error("Nori, bindToMap: Model ID and View ID must be defined.",a,b);var c=B[a];c?-1===c.indexOf(b)&&c.push(b):c=[b],B[a]=c}function m(a){n(a.id)}function n(a){var b=B[a];b&&b.forEach(function(a){A.updateView(a)})}function o(a){y.routes.push(a)}function p(a){return y.routes.indexOf(a)>-1}function q(a){p(a.route)?(y.currentRoute=a,a.fromApp?H.setRoute(y.currentRoute.route,y.currentRoute.data):(H.runCurrentRoute(),C.routeChanged(a))):H.setRoute(y.currentRoute.route,y.currentRoute.data)}function r(a,b,c){o(a),A.mapRouteView(b,c),H.when(a,{templateID:b,controller:function(a){s(a)}})}function s(a){A.showRouteView(a)}function t(a,b){return _.assign({},a,b)}function u(a,b){for(;b.length;)a=_.assign(a,b.shift());return a}function v(a){return u({},[this,a])}function w(a){return u({},[require("Nori.Model.ApplicationModel"),a])}function x(a){return u({},[require("Nori.View.ApplicationView"),require("Nori.View.ViewMixinSubViewRoutes"),requireNew("Nori.View.ViewMixinEventDelegator"),a])}var y,z,A,B=Object.create(null),C=require("Nori.Events.NoriEventCreator"),D=require("Nori.Events.NoriEventConstants"),E=require("Nudoru.Browser.BrowserEventConstants"),F=require("Nudoru.Core.ObjectUtils"),G=require("Nori.Utils.Dispatcher"),H=require("Nori.Utils.Router");return{initializeApplication:g,config:e,dispatcher:a,router:b,model:c,view:d,createApplication:v,createApplicationModel:w,createApplicationView:x,setCurrentRoute:q,getCurrentRoute:f,mapRouteView:r,extend:t,extendWithArray:u,bindToMap:l,handleModelUpdate:m,prop:j,withAttr:k}}();