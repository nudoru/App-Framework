/*! app-framework 17-08-2015 */
define("nori/utils/Cookie",function(a,b){b.exports.create=function(a,b,c){var d,e="";c&&(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()),document.cookie=a+"="+b+e+"; path=/"},b.exports.read=function(a){var b,c,d=a+"=",e=document.cookie.split(";");for(b=e.length;b--;){for(c=e[b];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(d))return c.substring(d.length,c.length)}return null},b.exports.remove=function(a){b.exports.create(a,"",-1)}}),define("nori/utils/Dispatcher",function(a,b){function c(a,b,c,d){var e=window;if(falsey(a))throw new Error("Fasley event string passed for handler",b);if(falsey(b))throw new Error("Fasley handler passed for event string",a);(c||c===!1)&&(c===!0||c===!1?d=c:e=c),p[a]||(p[a]=[]);var f=new Rx.Subject;return p[a].push({once:d,priority:0,handler:b,context:e,subject:f,type:0}),f.subscribe(b.bind(e))}function d(){return m?void o.onNext(!0):(o=new Rx.Subject,m=Rx.Observable.interval(1).pausable(o),void(n=m.subscribe(e)))}function e(){var a=t.shift();a?(g(a),h(a)):o.onNext(!1)}function f(a){s.push(a),t.push(a),d()}function g(a){for(var b in q)q[b].handler(a)}function h(a){var b,c=p[a.type];if(c)for(b=c.length;b--;){var d=c[b];0===d.type&&d.subject.onNext(a),d.once&&i(a.type,d.handler)}}function i(a,b){if(void 0!==p[a]){for(var c=p[a],d=-1,e=0,f=c.length;f>e;e++)c[e].handler===b&&(d=e,c[e].subject.onCompleted(),c[e].subject.dispose(),c[e]=null);-1!==d&&(c.splice(d,1),0===c.length&&delete p[a])}}function j(){return s.slice(0)}function k(a){var b="ID_"+r++;return q[b]={id:b,handler:a},b}function l(a){q.hasOwnProperty(a)&&delete q[a]}var m,n,o,p={},q={},r=0,s=[],t=[];b.exports.subscribe=c,b.exports.unsubscribe=i,b.exports.publish=f,b.exports.getLog=j,b.exports.registerReceiver=k,b.exports.unregisterReceiver=l}),define("nori/utils/MixinObservableSubject",function(a,b){function c(a){return f.subscribe(a)}function d(a){f.onNext(a)}function e(){return f.getValue()}var f=new Rx.BehaviorSubject;b.exports.subscribe=c,b.exports.notifySubscribers=d,b.exports.getLastNotification=e}),define("nori/utils/Renderer",function(a,b){function c(){Nori.dispatcher().subscribe(f.RENDER_VIEW,d)}function d(a){var b,c=a.payload.target,d=a.payload.html,f=document.querySelector(c),h=a.payload.callback;f.innerHTML="",d&&(b=g.HTMLStrToNode(d),f.appendChild(b)),h&&h(b),e.viewRendered(c,a.payload.id)}var e=a("nori/events/EventCreator"),f=a("nori/events/EventConstants"),g=a("nudoru/browser/DOMUtils");b.exports.initialize=c}),define("nori/utils/Router",function(a,b){function c(){window.addEventListener("hashchange",f,!1),Nori.dispatcher().subscribe(n.CHANGE_ROUTE,d)}function d(a){i(a.payload.route,a.payload.data)}function e(a){return l.subscribe(a)}function f(){var a={routeObj:g(),fragment:j()};l.onNext(a)}function g(){var a=j(),b=a.split("?"),c="/"+b[0],d=decodeURIComponent(b[1]),e=h(d);return"=undefined"===d&&(e={}),{route:c,data:e}}function h(a){var b={},c=a.split("&");return c.forEach(function(a){var c=a.split("=");b[c[0]]=c[1]}),b}function i(a,b){var c=a,d=[];if(!m.isNull(b)){c+="?";for(var e in b)"undefined"!==e&&b.hasOwnProperty(e)&&d.push(e+"="+encodeURIComponent(b[e]));c+=d.join("&")}k(c)}function j(){var a=location.hash.slice(1);return a.toString().replace(/\/$/,"").replace(/^\//,"")}function k(a){window.location.hash=a}var l=new Rx.Subject,m=a("nudoru/core/ObjectUtils"),n=a("nori/events/EventConstants");b.exports.initialize=c,b.exports.subscribe=e,b.exports.notifySubscribers=f,b.exports.getCurrentRoute=g,b.exports.set=i}),define("nori/utils/Templating",function(a,b){function c(a){if(l[a])return l[a];var b,c,d=document.getElementById(a);if(!d)throw new Error('nudoru/core/Templating, template not found: "'+a+'"');return b=d.innerHTML,c=h(b),l[a]=c,c}function d(){var a=Array.prototype.slice.call(document.getElementsByTagName("script"),0);return a.filter(function(a){return"text/template"===a.getAttribute("type")}).map(function(a){return a.getAttribute("id")})}function e(a){if(m[a])return m[a];var b=_.template(c(a));return m[a]=b,b}function f(a,b){var c=e(a);return c(b)}function g(a,b){return n.HTMLStrToNode(f(a,b))}function h(a){return a.trim()}function i(a){return a.replace(/(\r\n|\n|\r|\t)/gm,"").replace(/>\s+</g,"><")}function j(){var a=d();a.forEach(function(a){var b=i(c(a));console.log(a,b)})}function k(a,b){var c=document.createElement("script");c.type="text/template",c.id=a,c.innerHTML=b,document.getElementsByTagName("head")[0].appendChild(c)}var l=Object.create(null),m=Object.create(null),n=a("nudoru/browser/DOMUtils");b.exports.getSource=c,b.exports.getAllTemplateIDs=d,b.exports.processForDOMInsertion=j,b.exports.getTemplate=e,b.exports.asHTML=f,b.exports.asElement=g,b.exports.addClientSideTemplateToDOM=k}),define("nori/events/EventConstants",function(a,b){var c=a("nudoru/core/ObjectUtils");_.merge(b.exports,c.keyMirror({APP_WARNING:null,APP_ERROR:null,APP_INITIALIZED:null,APP_MODEL_INITIALIZED:null,APP_VIEW_INITIALIZED:null,ALERT_USER:null,WARN_USER:null,NOTIFY_USER:null,MODEL_DATA_WAITING:null,MODEL_DATA_READY:null,MODEL_DATA_CHANGED:null,MODEL_DATA_SAVED:null,MODEL_DATA_DESTROYED:null,MODEL_STATE_CHANGED:null,CHANGE_MODEL_STATE:null,RESUME_FROM_MODEL_STATE:null,VIEW_INITIALIZED:null,VIEW_RENDERED:null,VIEW_CHANGED:null,VIEW_CHANGE_TO_MOBILE:null,VIEW_CHANGE_TO_DESKTOP:null,ROUTE_CHANGED:null,CHANGE_ROUTE:null,RENDER_VIEW:null}))}),define("nori/events/EventCreator",function(a,b){var c=a("nori/events/EventConstants"),d=a("nudoru/browser/EventConstants");b.exports.applicationWarning=function(a){var b={type:c.APP_WARNING,error:!1,payload:{message:a}};return Nori.dispatcher().publish(b),b},b.exports.applicationError=function(a){var b={type:c.APP_ERROR,error:!0,payload:new Error(a)};return Nori.dispatcher().publish(b),b},b.exports.applicationInitialized=function(a){var b={type:c.APP_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.notifyUser=function(a,b,d){var e={type:c.NOTIFY_USER,payload:{title:a,message:b,type:d||"default"}};return Nori.dispatcher().publish(e),e},b.exports.alertUser=function(a,b,d){var e={type:c.ALERT_USER,payload:{title:a,message:b,type:d||"default"}};return Nori.dispatcher().publish(e),e},b.exports.warnUser=function(a,b,d){var e={type:c.WARN_USER,payload:{title:a,message:b,type:d||"danger"}};return Nori.dispatcher().publish(e),e},b.exports.applicationModelInitialized=function(a){var b={type:c.APP_MODEL_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.applicationViewInitialized=function(a){var b={type:c.APP_VIEW_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.urlHashChanged=function(a){var b={type:d.URL_HASH_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.viewChanged=function(a){var b={type:c.VIEW_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.changeRoute=function(a,b){var d={type:c.CHANGE_ROUTE,payload:{route:a,data:b}};return Nori.dispatcher().publish(d),d},b.exports.routeChanged=function(a){var b={type:c.ROUTE_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.changeModelState=function(a,b){var d={type:c.CHANGE_MODEL_STATE,payload:{id:a,data:b}};return Nori.dispatcher().publish(d),d},b.exports.modelChanged=function(a){var b={type:c.MODEL_DATA_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.modelStateChanged=function(a){var b={type:c.MODEL_STATE_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.renderView=function(a,b,d,e){var f={type:c.RENDER_VIEW,payload:{target:a,html:b,id:d,callback:e}};return Nori.dispatcher().publish(f),f},b.exports.viewRendered=function(a,b){var d={type:c.VIEW_RENDERED,payload:{target:a,id:b}};return Nori.dispatcher().publish(d),d},b.exports.viewChangedToMobile=function(a){var b={type:c.VIEW_CHANGE_TO_MOBILE,payload:a};return Nori.dispatcher().publish(b),b},b.exports.viewChangedToDesktop=function(a){var b={type:c.VIEW_CHANGE_TO_DESKTOP,payload:a};return Nori.dispatcher().publish(b),b},b.exports.browserScrolled=function(a){var b={type:d.BROWSER_SCROLLED,payload:a};return Nori.dispatcher().publish(b),b},b.exports.browserResized=function(a){var b={type:d.BROWSER_RESIZED,payload:a};return Nori.dispatcher().publish(b),b}}),define("nori/service/Rest",function(a,b){function c(a){var b=new XMLHttpRequest,c=a.json||!1,d=a.method.toUpperCase()||"GET",e=a.url,f=a.data||null;return new Rx.Observable.create(function(g){function h(a,b){b=b||"",g.onError(a+" "+b)}b.open(d,e,!0,a.user,a.password),b.onreadystatechange=function(){if(4===b.readyState)if(b.status>=200&&b.status<300)try{c?g.onNext(JSON.parse(b.responseText)):g.onError(b.responseText)}catch(a){h("Result","Error parsing JSON result")}else h(b.status,b.statusText)},b.onerror=function(){h("Network error")},b.ontimeout=function(){h("Timeout")},b.onabort=function(){h("About")},c&&"GET"!==d?b.setRequestHeader("Content-Type","application/json; charset=utf-8"):c&&"GET"===d&&b.setRequestHeader("Accept","application/json, text/*; odata=verbose"),b.send(f)})}b.exports.request=c}),define("nori/model/Map",function(a,b){function c(a){if(!a.id)throw new Error("Model must be init'd with an id");C=this,D=a.id,a.store?(F=!0,H=a.store):a.json&&d(a.json)}function d(a){F=!0;try{H=JSON.parse(a)}catch(b){throw new Error("MapCollection, error parsing JSON:",a,b)}}function e(){return D}function f(){H={},F=!0}function g(){return F}function h(){F=!1}function i(a,b){"object"==typeof a?H=_.merge({},H,a):H[a]=b,F=!0,y("set_key")}function j(a,b,c){H[a][b]=c,F=!0,y("set_key")}function k(a){var b=m(a)?H[a]:void 0;return b&&(b=_.cloneDeep(b)),b}function l(a,b){var c=m(a)?H[a]:void 0,d=null;return c&&(d=_.cloneDeep(c[b])),d}function m(a){return H.hasOwnProperty(a)}function n(){if(!F&&G)return G;var a=[];for(var b in H)a.push({key:b,value:H[b]});return G=a,F=!1,a}function o(){return p().length}function p(){return Object.keys(H)}function q(){return n().map(function(a){return a.value})}function r(a){delete H[a]}function s(a){return q().filter(a)}function t(){return n()[0]}function u(){var a=n();return a[a.length-1]}function v(a){return n()[a]}function w(){return _.merge({},H)}function x(a){var b=Object.create(null);for(var c in a)H.hasOwnProperty(c)&&(b[a[c]]=H[c]);return b}function y(a){var b={id:D,mapType:"model"};C.notifySubscribers(b),E.dispatchChange&&E.dispatchChange({id:D},a||"map")}function z(){return JSON.stringify(H)}function A(a){E=a}function B(){return E}var C,D,E,F=!1,G=[],H=Object.create(null);b.exports.initialize=c,b.exports.getID=e,b.exports.clear=f,b.exports.isDirty=g,b.exports.markClean=h,b.exports.setJSON=d,b.exports.set=i,b.exports.setKeyProp=j,b.exports.get=k,b.exports.getKeyProp=l,b.exports.has=m,b.exports.remove=r,b.exports.keys=p,b.exports.values=q,b.exports.entries=n,b.exports.filterValues=s,b.exports.size=o,b.exports.first=t,b.exports.last=u,b.exports.getAtIndex=v,b.exports.toObject=w,b.exports.transform=x,b.exports.toJSON=z,b.exports.setParentCollection=A,b.exports.getParentCollection=B}),define("nori/model/MapCollection",function(a,b){function c(a){if(!a.id)throw new Error("ModelCollection must be init'd with an id");G=this,H=a.id,a.models&&j.call(G,a.models)}function d(){var a={};return a=g()?{value:K[J++],done:!g()}:e()}function e(){return{value:K[J],done:!g()}}function f(){return J=0,K[J]}function g(){return J<K.length}function h(){var a=!1;return A(function(b){b.isDirty()&&(a=!0)}),a}function i(){A(function(a){a.markClean()})}function j(a){a.forEach(function(a){n(a)})}function k(a,b){a.forEach(function(a){var c;c=a.hasOwnProperty(b)?a[b]:H+"child"+K.length,n(Nori.model().createMap({id:c,store:a}))}),s(H,"add_map")}function l(a,b){a.forEach(function(a){var c,d;try{d=JSON.parse(a)}catch(e){throw new Error("MapCollection, error parsing JSON:",a,e)}c=d.hasOwnProperty(b)?d[b]:H+"child"+K.length,n(Nori.model().createMap({id:c,store:d}))}),s(H,"add_map")}function m(){return H}function n(a){var b=r(a.getID());a.setParentCollection(G),b>=0?K[b]=a:K.push(a),s(H,"add_map")}function o(a){var b=r(a);b>=0?(K[b].setParentCollection(null),K[b]=null,K.splice(b,1),s(H,"remove_map")):console.log(H+" remove, model not in collection: "+a)}function p(){K.forEach(function(a){a.setParentCollection(null)}),K=[],s(H,"remove_map")}function q(a){return K.filter(function(b){return b.getID()===a})[0]}function r(a){return K.map(function(a){return a.getID()}).indexOf(a)}function s(a,b){var c={id:H,type:b||"",mapType:"collection",mapID:a.id};G.notifySubscribers(c),I&&I.dispatchChange({id:H,store:q()})}function t(a){return K[a]}function u(){return K.length}function v(){return K[0]}function w(){return K[K.length-1]}function x(a){return K[a]}function y(a){return K.filter(a)}function z(a,b){return K.filter(function(c){return c.get(a)===b})}function A(a){return K.forEach(a)}function B(a){return K.map(a)}function C(){var a=[];return K.forEach(function(b){a.push(b.entries())}),a}function D(){return JSON.stringify(K)}function E(a){I=a}function F(){return I}var G,H,I,J=0,K=[];b.exports.initialize=c,b.exports.current=e,b.exports.next=d,b.exports.hasNext=g,b.exports.rewind=f,b.exports.getID=m,b.exports.isDirty=h,b.exports.markClean=i,b.exports.add=n,b.exports.addMapsFromArray=j,b.exports.addFromObjArray=k,b.exports.addFromJSONArray=l,b.exports.remove=o,b.exports.removeAll=p,b.exports.getMap=q,b.exports.hasMap=t,b.exports.size=u,b.exports.first=v,b.exports.last=w,b.exports.atIndex=x,b.exports.filter=y,b.exports.filterByKey=z,b.exports.forEach=A,b.exports.map=B,b.exports.entries=C,b.exports.toJSON=D,b.exports.dispatchChange=s,b.exports.setParentCollection=E,b.exports.getParentCollection=F}),define("nori/model/MixinMapFactory",function(a,b){function c(a,b){var c=Nori.assignArray({},[requireNew("nori/model/MapCollection"),requireNew("nori/utils/MixinObservableSubject"),b]);return c.initialize(a),c}function d(a,b){var c=Nori.assignArray({},[requireNew("nori/model/Map"),requireNew("nori/utils/MixinObservableSubject"),b]);return c.initialize(a),c}function e(a){return h[a]}function f(a){return g[a]}var g=Object.create(null),h=Object.create(null);b.exports.createMapCollection=c,b.exports.createMap=d,b.exports.getMap=e,b.exports.getMapCollection=f}),define("nori/model/MixinReducerModel",function(a,b){function c(){return m.getState()}function d(a){_.isEqual(a,m)||(m.setState(a),l.notifySubscribers({}))}function e(a){n=a}function f(a){n.push(a)}function g(){if(l=this,Nori.dispatcher().registerReceiver(h),!n)throw new Error("ReducerModel, must set a reducer before initialization");i({})}function h(a){i(a)}function i(a){var b=k(c(),a);d(b),l.handleStateMutation()}function j(){}function k(a,b){return a=a||{},n.forEach(function(c){a=c(a,b)}),a}var l,m=requireNew("nori/model/SimpleStore"),n=[];b.exports.initializeReducerModel=g,b.exports.getState=c,b.exports.setState=d,b.exports.handleApplicationEvents=h,b.exports.setReducers=e,b.exports.addReducer=f,b.exports.applyReducers=i,b.exports.applyReducersToState=k,b.exports.handleStateMutation=j}),define("nori/model/SimpleStore",function(a,b){function c(a){return g.subscribe(a)}function d(){return _.assign({},f)}function e(a){f=a,g.onNext()}var f=Object.create(null),g=new Rx.Subject;b.exports.subscribe=c,b.exports.getState=d,b.exports.setState=e}),define("nori/view/ApplicationView",function(a,b){function c(a){f=this,g.initialize(),d(a),f.initializeComponentViews(),f.initializeNudoruControls()}function d(a){if(a){var b=document.querySelector("body");a.forEach(function(a){b.appendChild(h.HTMLStrToNode(f.template().getSource("template__"+a,{})))})}}function e(){var a=document.querySelector("#initialization__cover"),b=document.querySelector(".initialization__message");TweenLite.to(a,1,{alpha:0,ease:Quad.easeOut,onComplete:function(){a.parentNode.removeChild(a)}}),TweenLite.to(b,2,{top:"+=50px",ease:Quad.easeIn,onComplete:function(){a.removeChild(b)}})}var f,g=a("nori/utils/Renderer"),h=a("nudoru/browser/DOMUtils");b.exports.initializeApplicationView=c,b.exports.removeLoadingMessage=e}),define("nori/view/MixinBrowserEvents",function(a,b){function c(){k(),m(),e()}function d(a){t=a}function e(){var a=Rx.Observable.fromEvent(window,"resize"),b=Rx.Observable.fromEvent(_mainScrollEl,"scroll");q=Rx.Observable.merge(a,b).subscribe(function(){n()}),s=Rx.Observable.fromEvent(window,"resize").throttle(100).subscribe(function(){h()}),r=Rx.Observable.fromEvent(_mainScrollEl,"scroll").throttle(100).subscribe(function(){i()})}function f(){return _mainScrollEl}function g(a){_mainScrollEl=document.getElementById(a)}function h(){u.browserResized(o)}function i(){u.browserScrolled(p)}function j(){return o}function k(){o={width:window.innerWidth,height:window.innerHeight}}function l(){return p}function m(){var a=_mainScrollEl?_mainScrollEl:document.body,b=a.scrollLeft,c=a.scrollTop;b=b?b:0,c=c?c:0,p={left:b,top:c}}function n(){m(),k(),t.call(this,o,p)}var o,p,q,r,s,t,u=a("nori/events/EventCreator");b.exports.initializeBrowserWindowEventStreams=c,b.exports.setPositionUIElementsOnChangeCB=d,b.exports.getMainScrollingView=f,b.exports.setMainScrollingView=g,b.exports.getCurrentViewPortSize=j,b.exports.getCurrentViewPortScroll=l}),define("nori/view/MixinComponentViews",function(a,b){function c(){Nori.router().subscribe(function(a){e(a.routeObj)})}function d(){m(Nori.getCurrentRoute().route),Nori.router().notifySubscribers()}function e(a){m(a.route)}function f(a){o=a}function g(){return t}function h(a,b,c,d){"string"==typeof b&&(b=requireNew(b)),q[a]={htmlTemplate:t.getTemplate(s+a),controller:i(b),isRouteView:c,mountPoint:c?o:d}}function i(a){return Nori.assignArray({},[requireNew("nori/view/ViewComponent"),requireNew("nori/view/MixinEventDelegator"),a])}function j(a,b,c){r[a]=b,h(b,c,!0,o)}function k(a,b){var c=q[a];if(!c)throw new Error("No componentView mapped for id: "+a);c.controller=Nori.assignArray(c.controller,b)}function l(a){var b=q[a];if(!b)throw new Error("No componentView mapped for id: "+a);b.controller.initialize({id:a,template:b.htmlTemplate,mountPoint:b.mountPoint}),b.controller.update(),b.controller.render(),b.controller.mount()}function m(a){var b=r[a];return b?(n(),p=b,l(p),TweenLite.set(o,{alpha:0}),TweenLite.to(o,.25,{alpha:1,ease:Quad.easeIn}),void u.viewChanged(p)):void console.log("No view mapped for route: "+a)}function n(){p&&q[p].controller.unmount(),p=""}var o,p,q=Object.create(null),r=Object.create(null),s="template__",t=a("nori/utils/Templating"),u=a("nori/events/EventCreator");b.exports.initializeComponentViews=c,b.exports.showViewFromURLHash=d,b.exports.setRouteViewMountPoint=f,b.exports.template=g,b.exports.mapViewComponent=h,b.exports.showViewComponent=l,b.exports.mapRouteToViewComponent=j,b.exports.showRouteViewComponent=m,b.exports.applyMixin=k}),define("nori/view/MixinEventDelegator",function(a,b){function c(a){g=a}function d(){return g}function e(){if(g){h=Object.create(null);for(var a in g)if(g.hasOwnProperty(a)){var b=a.split(",");b.forEach(function(b){b=b.trim();var c=b.split(" ")[0].trim(),d=b.split(" ")[1].trim(),e=document.querySelector(d);e?h[a]=Rx.Observable.fromEvent(e,c).subscribe(g[a]):console.log("Cannot add event to invalid DOM element: "+d)})}}}function f(){if(g){for(var a in h)h[a].dispose(),delete h[a];h=Object.create(null)}}var g,h;b.exports.setEvents=c,b.exports.getEvents=d,b.exports.undelegateEvents=f,b.exports.delegateEvents=e}),define("nori/view/MixinNudoruControls",function(a,b){function c(){k.initialize("tooltip__container"),j.initialize("toast__container"),l.initialize("messagebox__container"),n.initialize()}function d(){return m}function e(a){return l.add(a)}function f(a){l.remove(a)}function g(a,b){return d().alert(b||"Alert",a)}function h(a){return j.add(a)}function i(a,b,c){return h({title:b||"",type:c||j.type().DEFAULT,message:a})}var j=a("nudoru/component/ToastView"),k=a("nudoru/component/ToolTipView"),l=a("nudoru/component/MessageBoxView"),m=a("nudoru/component/MessageBoxCreator"),n=a("nudoru/component/ModalCoverView");b.exports.initializeNudoruControls=c,b.exports.mbCreator=d,b.exports.addMessageBox=e,b.exports.removeMessageBox=f,b.exports.addNotification=h,b.exports.alert=g,b.exports.notify=i}),define("nori/view/ViewComponent",function(a,b){function c(a){u()||(F=a.id,G=a.template,J=a.mountPoint),this.update(),K=!0}function d(a){var b;if(b=isObject(a)?a:Nori.model().getMap(a)||Nori.model().getMapCollection(a),!b)throw new Error("ViewComponent bindMap, map or mapcollection not found: "+a);b.subscribe(this.update.bind(this))}function e(a){M.push(a)}function f(a){var b=M.indexOf(a);M[b].dispose(),M.splice(b,1)}function g(){}function h(){var a=_.assign({},this.getState());this.viewWillUpdate(),M.forEach(function(a){a.update()}),N&&this.viewShouldRender(a)&&(this.unmount(),this.render(),this.mount()),this.viewDidUpdate()}function i(a){return!_.isEqual(a,this.getState())}function j(){}function k(){}function l(){this.viewWillRender&&this.viewWillRender(),M.forEach(function(a){a.render()}),H=G(L),this.viewDidRender&&this.viewDidRender()}function m(){}function n(){}function o(){if(!H)throw new Error("Component "+F+" cannot mount with no HTML. Call render() first");this.viewWillMount&&this.viewWillMount(),N=!0,O.renderView(J,H,F,p.bind(this))}function p(a){B(a),this.delegateEvents&&this.delegateEvents(),this.viewDidMount&&this.viewDidMount()}function q(){}function r(){}function s(){this.viewWillUnmount(),N=!1,O.renderView(J,"",F),this.undelegateEvents&&this.undelegateEvents(),B(null),this.viewDidUnmount()}function t(){}function u(){return K}function v(){return N}function w(a){L=a}function x(){return _.cloneDeep(L)}function y(){return F}function z(){return G}function A(){return I}function B(a){I=a}function C(){return H}function D(a){H=a}function E(){return M.slice(0)}var F,G,H,I,J,K=!1,L={},M=[],N=!1,O=a("nori/events/EventCreator");b.exports.initializeComponent=c,b.exports.isInitialized=u,b.exports.setState=w,b.exports.getState=x,b.exports.getID=y,b.exports.getTemplate=z,b.exports.getHTML=C,b.exports.setHTML=D,b.exports.getDOMElement=A,b.exports.setDOMElement=B,b.exports.isMounted=v,b.exports.bindMap=d,b.exports.viewWillUpdate=g,b.exports.update=h,b.exports.viewDidUpdate=j,b.exports.viewShouldRender=i,b.exports.viewWillRender=k,b.exports.render=l,b.exports.viewDidRender=m,b.exports.viewWillMount=n,b.exports.mount=o,b.exports.viewDidMount=q,b.exports.viewWillUnmount=r,b.exports.unmount=s,b.exports.viewDidUnmount=t,b.exports.addChild=e,b.exports.removeChild=f,b.exports.getChildren=E});var Nori=function(){function a(){return p}function b(){return q}function c(){return n}function d(){return o}function e(){return _.assign({},window.APP_CONFIG_DATA||{})}function f(){return q.getCurrentRoute()}function g(a){q.initialize(),o=a.view||k({}),n=a.model||j({})}function h(a,b){return b.forEach(function(b){a=_.assign(a,b)}),a}function i(a){return h({},[this,a])}function j(a){return h({},[require("nori/model/MixinMapFactory"),require("nori/utils/MixinObservableSubject"),require("nori/model/MixinReducerModel"),a])}function k(a){return h({},[require("nori/view/ApplicationView"),require("nori/view/MixinNudoruControls"),require("nori/view/MixinComponentViews"),requireNew("nori/view/MixinEventDelegator"),a])}function l(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b}function m(a,b,c){return function(d){d=d||event;var e=d.currentTarget||this,f=c||this;b.call(f,a in e?e[a]:e.getAttribute(a))}}var n,o,p=require("nori/utils/Dispatcher"),q=require("nori/utils/Router");return{initializeApplication:g,config:e,dispatcher:a,router:b,model:c,view:d,createApplication:i,createApplicationModel:j,createApplicationView:k,getCurrentRoute:f,assignArray:h,prop:l,withAttr:m}}();