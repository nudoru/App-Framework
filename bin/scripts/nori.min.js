/*! app-framework 27-08-2015 */
define("nori/utils/Cookie",function(a,b){var c=function(){function a(a,b,c){var d,e="";c&&(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()),document.cookie=a+"="+b+e+"; path=/"}function b(a){var b,c,d=a+"=",e=document.cookie.split(";");for(b=e.length;b--;){for(c=e[b];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(d))return c.substring(d.length,c.length)}return null}function c(b){a(b,"",-1)}return{create:a,read:b,remove:c}};b.exports=c()}),define("nori/utils/Dispatcher",function(a,b){var c=function(){function a(a,b,c,d){var e=window;if(falsey(a))throw new Error("Fasley event string passed for handler",b);if(falsey(b))throw new Error("Fasley handler passed for event string",a);(c||c===!1)&&(c===!0||c===!1?d=c:e=c),n[a]||(n[a]=[]);var f=new Rx.Subject;return n[a].push({once:d,priority:0,handler:b,context:e,subject:f,type:0}),f.subscribe(b.bind(e))}function b(){return k?void m.onNext(!0):(m=new Rx.Subject,k=Rx.Observable.interval(1).pausable(m),void(l=k.subscribe(c)))}function c(){var a=r.shift();a?(e(a),f(a)):m.onNext(!1)}function d(a){q.push(a),r.push(a),b()}function e(a){for(var b in o)o[b].handler(a)}function f(a){var b,c=n[a.type];if(c)for(b=c.length;b--;){var d=c[b];0===d.type&&d.subject.onNext(a),d.once&&g(a.type,d.handler)}}function g(a,b){if(void 0!==n[a]){for(var c=n[a],d=-1,e=0,f=c.length;f>e;e++)c[e].handler===b&&(d=e,c[e].subject.onCompleted(),c[e].subject.dispose(),c[e]=null);-1!==d&&(c.splice(d,1),0===c.length&&delete n[a])}}function h(){return q.slice(0)}function i(a){var b="ID_"+p++;return o[b]={id:b,handler:a},b}function j(a){o.hasOwnProperty(a)&&delete o[a]}var k,l,m,n={},o={},p=0,q=[],r=[];return{subscribe:a,unsubscribe:g,publish:d,getLog:h,registerReceiver:i,unregisterReceiver:j}};b.exports=c()}),define("nori/utils/Keyboard",function(a,b){var c=function(){function a(a,b){a=a||document,b=b||"keydown";var c=Rx.Observable.fromEvent(a,b);k=c.map(function(a){return a.keyCode}).map(function(a){return i(a)}).subscribe(h)}function b(){return _.assign({},m)}function c(a){return m.hasOwnProperty(a)}function d(a,b,c){"string"==typeof a&&(a=[a]),a.forEach(function(a){e(a,b,c)})}function e(a,b,d){c(a)&&(d=d||window,l[a]=b.bind(d))}function f(a){"string"==typeof a&&(a=[a]),a.forEach(function(a){g(a)})}function g(a){delete l[a]}function h(a){l.hasOwnProperty(a)&&l[a](a)}function i(a){for(var b in m)if(m[b]===""+a)return b;return void 0}function j(){l=void 0,k.dispose()}var k,l={},m={backspace:"8",tab:"9",enter:"13",shift:"16",ctrl:"17",alt:"18",pause_break:"19",caps_lock:"20",escape:"27",page_up:"33","page down":"34",end:"35",home:"36",left:"37",up:"38",right:"39",down:"40",insert:"45","delete":"46",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",a:"65",b:"66",c:"67",d:"68",e:"69",f:"70",g:"71",h:"72",i:"73",j:"74",k:"75",l:"76",m:"77",n:"78",o:"79",p:"80",q:"81",r:"82",s:"83",t:"84",u:"85",v:"86",w:"87",x:"88",y:"89",z:"90","left_window key":"91","right_window key":"92",select_key:"93","numpad 0":"96","numpad 1":"97","numpad 2":"98","numpad 3":"99","numpad 4":"100","numpad 5":"101","numpad 6":"102","numpad 7":"103","numpad 8":"104","numpad 9":"105",multiply:"106",add:"107",subtract:"109","decimal point":"110",divide:"111",f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",f11:"122",f12:"123",num_lock:"144",scroll_lock:"145",semi_colon:"186",equal_sign:"187",comma:"188",dash:"189",period:"190",forward_slash:"191",grave_accent:"192",open_bracket:"219",backslash:"220",closebracket:"221",single_quote:"222"};return{initialize:a,getKeyCodes:b,mapKey:d,unmapKey:f,dispose:j}};b.exports=c}),define("nori/utils/MixinObservableSubject",function(a,b){var c=function(){function a(a){return d.subscribe(a)}function b(a){d.onNext(a)}function c(){return d.getValue()}var d=new Rx.BehaviorSubject;return{subscribe:a,notifySubscribers:b,getLastNotification:c}};b.exports=c}),define("nori/utils/Renderer",function(a,b){var c=function(){function b(a){var b,d=a.target,e=a.html,f=document.querySelector(d),g=a.callback;return f.innerHTML="",e&&(b=c.HTMLStrToNode(e),f.appendChild(b)),g&&g(b),b}var c=a("nudoru/browser/DOMUtils");return{render:b}};b.exports=c()}),define("nori/utils/Router",function(a,b){var c=function(){function b(){window.addEventListener("hashchange",d,!1)}function c(a){return j.subscribe(a)}function d(){var a={routeObj:e(),fragment:h()};j.onNext(a)}function e(){var a=h(),b=a.split("?"),c="/"+b[0],d=decodeURIComponent(b[1]),e=f(d);return"=undefined"===d&&(e={}),{route:c,data:e}}function f(a){var b={},c=a.split("&");return c.forEach(function(a){var c=a.split("=");b[c[0]]=c[1]}),b}function g(a,b){var c=a,d=[];if(!k.isNull(b)){c+="?";for(var e in b)"undefined"!==e&&b.hasOwnProperty(e)&&d.push(e+"="+encodeURIComponent(b[e]));c+=d.join("&")}i(c)}function h(){var a=location.hash.slice(1);return a.toString().replace(/\/$/,"").replace(/^\//,"")}function i(a){window.location.hash=a}{var j=new Rx.Subject,k=a("nudoru/core/ObjectUtils");a("nori/events/EventConstants")}return{initialize:b,subscribe:c,notifySubscribers:d,getCurrentRoute:e,set:g}};b.exports=c()}),define("nori/utils/Templating",function(a,b){var c=function(){function b(a,b){m[a]=b}function c(a){var b=m[a];return b?j(b):void 0}function d(a){var b,c=document.getElementById(a);return c?b=c.innerHTML:(console.warn('nudoru/core/Templating, template not found: "'+a+'"'),b="<div>Template not found: "+a+"</div>"),j(b)}function e(a){if(n[a])return n[a];var b=c(a);return b||(b=d(a)),n[a]=b,b}function f(){var a=Array.prototype.slice.call(document.getElementsByTagName("script"),0);return a.filter(function(a){return"text/template"===a.getAttribute("type")}).map(function(a){return a.getAttribute("id")})}function g(a){if(o[a])return o[a];var b=_.template(e(a));return o[a]=b,b}function h(a,b){var c=g(a);return c(b)}function i(a,b){return p.HTMLStrToNode(h(a,b))}function j(a){return a.trim()}function k(a){return a.replace(/(\r\n|\n|\r|\t)/gm,"").replace(/>\s+</g,"><")}function l(){var a=f();a.forEach(function(a){var b=k(e(a));console.log(a,b)})}var m=Object.create(null),n=Object.create(null),o=Object.create(null),p=a("nudoru/browser/DOMUtils");return{addTemplate:b,getSource:e,getAllTemplateIDs:f,processForDOMInsertion:l,getTemplate:g,asHTML:h,asElement:i}};b.exports=c()}),define("nori/events/EventConstants",function(a,b){var c=a("nudoru/core/ObjectUtils");_.merge(b.exports,c.keyMirror({APP_INITIALIZED:null,APP_MODEL_INITIALIZED:null,APP_VIEW_INITIALIZED:null,ALERT_USER:null,WARN_USER:null,NOTIFY_USER:null,MODEL_DATA_WAITING:null,MODEL_DATA_READY:null,MODEL_DATA_CHANGED:null,MODEL_DATA_SAVED:null,MODEL_DATA_DESTROYED:null,MODEL_STATE_CHANGED:null,CHANGE_MODEL_STATE:null,RESUME_FROM_MODEL_STATE:null,VIEW_INITIALIZED:null,VIEW_CHANGED:null,VIEW_CHANGE_TO_MOBILE:null,VIEW_CHANGE_TO_DESKTOP:null}))}),define("nori/events/EventCreator",function(a,b){var c=a("nori/events/EventConstants"),d=a("nudoru/browser/EventConstants"),e={applicationInitialized:function(a){var b={type:c.APP_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},notifyUser:function(a,b,d){var e={type:c.NOTIFY_USER,payload:{title:a,message:b,type:d||"default"}};return Nori.dispatcher().publish(e),e},alertUser:function(a,b,d){var e={type:c.ALERT_USER,payload:{title:a,message:b,type:d||"default"}};return Nori.dispatcher().publish(e),e},warnUser:function(a,b,d){var e={type:c.WARN_USER,payload:{title:a,message:b,type:d||"danger"}};return Nori.dispatcher().publish(e),e},applicationModelInitialized:function(a){var b={type:c.APP_MODEL_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},applicationViewInitialized:function(a){var b={type:c.APP_VIEW_INITIALIZED,payload:a};return Nori.dispatcher().publish(b),b},urlHashChanged:function(a){var b={type:d.URL_HASH_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},viewChanged:function(a){var b={type:c.VIEW_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},changeModelState:function(a,b){var d={type:c.CHANGE_MODEL_STATE,payload:{id:a,data:b}};return Nori.dispatcher().publish(d),d},modelChanged:function(a){var b={type:c.MODEL_DATA_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},modelStateChanged:function(a){var b={type:c.MODEL_STATE_CHANGED,payload:a};return Nori.dispatcher().publish(b),b},viewChangedToMobile:function(a){var b={type:c.VIEW_CHANGE_TO_MOBILE,payload:a};return Nori.dispatcher().publish(b),b},viewChangedToDesktop:function(a){var b={type:c.VIEW_CHANGE_TO_DESKTOP,payload:a};return Nori.dispatcher().publish(b),b},browserScrolled:function(a){var b={type:d.BROWSER_SCROLLED,payload:a};return Nori.dispatcher().publish(b),b},browserResized:function(a){var b={type:d.BROWSER_RESIZED,payload:a};return Nori.dispatcher().publish(b),b}};b.exports=e}),define("nori/service/Rest",function(a,b){var c=function(){function a(a){var b=new XMLHttpRequest,c=a.json||!1,d=a.method.toUpperCase()||"GET",e=a.url,f=a.data||null;return new Rx.Observable.create(function(a){function g(b,c){c=c||"",a.onError(b+" "+c)}b.open(d,e,!0),b.onreadystatechange=function(){if(4===b.readyState)if(b.status>=200&&b.status<300)try{c?a.onNext(JSON.parse(b.responseText)):a.onError(b.responseText)}catch(d){g("Result","Error parsing result. Status: "+b.status+", Response: "+b.response)}else g(b.status,b.statusText)},b.onerror=function(){g("Network error")},b.ontimeout=function(){g("Timeout")},b.onabort=function(){g("About")},c&&"GET"!==d?b.setRequestHeader("Content-Type","application/json; charset=utf-8"):c&&"GET"===d&&b.setRequestHeader("Accept","application/json; odata=verbose"),b.send(f)})}return{request:a}};b.exports=c()}),define("nori/service/SocketIO",function(a,b){var c=function(){function a(){i.on(j.NOTIFY_CLIENT,b)}function b(a){e(a)}function c(a,b){i.emit(j.NOTIFY_SERVER,{type:a,payload:b})}function d(a){return h.subscribe(a)}function e(a){h.onNext(a)}function f(){return h.getValue()}function g(){return _.assign({},j)}var h=new Rx.BehaviorSubject,i=io(),j={NOTIFY_CLIENT:"notify_client",NOTIFY_SERVER:"notify_server",CONNECT:"connect",DROPPED:"dropped",USER_CONNECTED:"user_connected",USER_DISCONNECTED:"user_disconnected",EMIT:"emit",BROADCAST:"broadcast",SYSTEM_MESSAGE:"system_message",MESSAGE:"message",CREATE_ROOM:"create_room",JOIN_ROOM:"join_room",LEAVE_ROOM:"leave_room"};return{events:g,initialize:a,notifyServer:c,subscribe:d,notifySubscribers:e,getLastNotification:f}};b.exports=c()}),define("nori/model/Map",function(a,b){var c=function(){function a(a){if(!a.id)throw new Error("Model must be init'd with an id");A=this,B=a.id,a.store?(D=!0,F=a.store):a.json&&b(a.json)}function b(a){D=!0;try{F=JSON.parse(a)}catch(b){throw new Error("MapCollection, error parsing JSON:",a,b)}}function c(){return B}function d(){F={},D=!0}function e(){return D}function f(){D=!1}function g(a,b){"object"==typeof a?F=_.merge({},F,a):F[a]=b,D=!0,w("set_key")}function h(a,b,c){F[a][b]=c,D=!0,w("set_key")}function i(a){var b=k(a)?F[a]:void 0;return b&&(b=_.cloneDeep(b)),b}function j(a,b){var c=k(a)?F[a]:void 0,d=null;return c&&(d=_.cloneDeep(c[b])),d}function k(a){return F.hasOwnProperty(a)}function l(){if(!D&&E)return E;var a=[];for(var b in F)a.push({key:b,value:F[b]});return E=a,D=!1,a}function m(){return n().length}function n(){return Object.keys(F)}function o(){return l().map(function(a){return a.value})}function p(a){delete F[a]}function q(a){return o().filter(a)}function r(){return l()[0]}function s(){var a=l();return a[a.length-1]}function t(a){return l()[a]}function u(){return _.merge({},F)}function v(a){var b=Object.create(null);for(var c in a)F.hasOwnProperty(c)&&(b[a[c]]=F[c]);return b}function w(a){var b={id:B,mapType:"model"};A.notifySubscribers(b),C.dispatchChange&&C.dispatchChange({id:B},a||"map")}function x(){return JSON.stringify(F)}function y(a){C=a}function z(){return C}var A,B,C,D=!1,E=[],F=Object.create(null);return{initialize:a,getID:c,clear:d,isDirty:e,markClean:f,setJSON:b,set:g,setKeyProp:h,get:i,getKeyProp:j,has:k,remove:p,keys:n,values:o,entries:l,filterValues:q,size:m,first:r,last:s,getAtIndex:t,toObject:u,transform:v,toJSON:x,setParentCollection:y,getParentCollection:z}};b.exports=c}),define("nori/model/MapCollection",function(a,b){var c=function(){function a(a){if(!a.id)throw new Error("ModelCollection must be init'd with an id");E=this,F=a.id,a.models&&h.call(E,a.models)}function b(){var a={};return a=e()?{value:I[H++],done:!e()}:c()}function c(){return{value:I[H],done:!e()}}function d(){return H=0,I[H]}function e(){return H<I.length}function f(){var a=!1;return y(function(b){b.isDirty()&&(a=!0)}),a}function g(){y(function(a){a.markClean()})}function h(a){a.forEach(function(a){l(a)})}function i(a,b){a.forEach(function(a){var c;c=a.hasOwnProperty(b)?a[b]:F+"child"+I.length,l(Nori.model().createMap({id:c,store:a}))}),q(F,"add_map")}function j(a,b){a.forEach(function(a){var c,d;try{d=JSON.parse(a)}catch(e){throw new Error("MapCollection, error parsing JSON:",a,e)}c=d.hasOwnProperty(b)?d[b]:F+"child"+I.length,l(Nori.model().createMap({id:c,store:d}))}),q(F,"add_map")}function k(){return F}function l(a){var b=p(a.getID());a.setParentCollection(E),b>=0?I[b]=a:I.push(a),q(F,"add_map")}function m(a){var b=p(a);b>=0?(I[b].setParentCollection(null),I[b]=null,I.splice(b,1),q(F,"remove_map")):console.log(F+" remove, model not in collection: "+a)}function n(){I.forEach(function(a){a.setParentCollection(null)}),I=[],q(F,"remove_map")}function o(a){return I.filter(function(b){return b.getID()===a})[0]}function p(a){return I.map(function(a){return a.getID()}).indexOf(a)}function q(a,b){var c={id:F,type:b||"",mapType:"collection",mapID:a.id};E.notifySubscribers(c),G&&G.dispatchChange({id:F,store:o()})}function r(a){return I[a]}function s(){return I.length}function t(){return I[0]}function u(){return I[I.length-1]}function v(a){return I[a]}function w(a){return I.filter(a)}function x(a,b){return I.filter(function(c){return c.get(a)===b})}function y(a){return I.forEach(a)}function z(a){return I.map(a)}function A(){var a=[];return I.forEach(function(b){a.push(b.entries())}),a}function B(){return JSON.stringify(I)}function C(a){G=a}function D(){return G}var E,F,G,H=0,I=[];return{initialize:a,current:c,next:b,hasNext:e,rewind:d,getID:k,isDirty:f,markClean:g,add:l,addMapsFromArray:h,addFromObjArray:i,addFromJSONArray:j,remove:m,removeAll:n,getMap:o,hasMap:r,size:s,first:t,last:u,atIndex:v,filter:w,filterByKey:x,forEach:y,map:z,entries:A,toJSON:B,dispatchChange:q,setParentCollection:C,getParentCollection:D}};b.exports=c}),define("nori/model/MixinMapFactory",function(a,b){var c=function(){function b(a,b){var c=Nori.assignArray({},[h(),j(),b]);return c.initialize(a),c}function c(a,b){var c=Nori.assignArray({},[i(),j(),b]);return c.initialize(a),c}function d(a){return g[a]}function e(a){return f[a]}var f=Object.create(null),g=Object.create(null),h=a("nori/model/MapCollection"),i=a("nori/model/Map"),j=a("nori/utils/MixinObservableSubject");return{createMapCollection:b,createMap:c,getMap:d,getMapCollection:e}};b.exports=c()}),define("nori/model/MixinReducerModel",function(a,b){var c=function(){function b(){return l?l.getState():{}}function c(a){_.isEqual(a,l)||(l.setState(a),k.notifySubscribers({}))}function d(a){m=a}function e(a){m.push(a)}function f(){var b=a("nori/model/SimpleStore");if(k=this,l=b(),n=[o.MODEL_STATE_CHANGED,o.MODEL_DATA_CHANGED,o.VIEW_CHANGED,o.RENDER_VIEW,o.VIEW_RENDERED],Nori.dispatcher().registerReceiver(g),!m)throw new Error("ReducerModel, must set a reducer before initialization");h({})}function g(a){n.indexOf(a.type)>=0||h(a)}function h(a){var d=j(b(),a);c(d),k.handleStateMutation()}function i(){}function j(a,b){return a=a||{},m.forEach(function(c){a=c(a,b)}),a}var k,l,m=[],n=[],o=a("nori/events/EventConstants");return{initializeReducerModel:f,getState:b,setState:c,handleApplicationEvents:g,setReducers:d,addReducer:e,applyReducers:h,applyReducersToState:j,handleStateMutation:i}};b.exports=c()}),define("nori/model/SimpleStore",function(a,b){var c=function(){function a(a){return e.subscribe(a)}function b(){return _.assign({},d)}function c(a){d=_.assign(d,a),e.onNext()}var d=Object.create(null),e=new Rx.Subject;return{subscribe:a,getState:b,setState:c}};b.exports=c}),define("nori/view/ApplicationView",function(a,b){var c=function(){function b(a){e=this,c(a)}function c(a){if(a){var b=document.querySelector("body");a.forEach(function(a){b.appendChild(f.HTMLStrToNode(e.template().getSource("template__"+a,{})))})}}function d(){var a=document.querySelector("#initialization__cover"),b=document.querySelector(".initialization__message");TweenLite.to(a,1,{alpha:0,ease:Quad.easeOut,onComplete:function(){a.parentNode.removeChild(a)}}),TweenLite.to(b,2,{top:"+=50px",ease:Quad.easeIn,onComplete:function(){a.removeChild(b)}})}var e,f=a("nudoru/browser/DOMUtils");return{initializeApplicationView:b,removeLoadingMessage:d}};b.exports=c()}),define("nori/view/MixinBrowserEvents",function(a,b){var c=function(){function b(){j(),l(),d()}function c(a){s=a}function d(){var a=Rx.Observable.fromEvent(window,"resize"),b=Rx.Observable.fromEvent(_mainScrollEl,"scroll");p=Rx.Observable.merge(a,b).subscribe(function(){m()}),r=Rx.Observable.fromEvent(window,"resize").throttle(100).subscribe(function(){g()}),q=Rx.Observable.fromEvent(_mainScrollEl,"scroll").throttle(100).subscribe(function(){h()})}function e(){return _mainScrollEl}function f(a){_mainScrollEl=document.getElementById(a)}function g(){t.browserResized(n)}function h(){t.browserScrolled(o)}function i(){return n}function j(){n={width:window.innerWidth,height:window.innerHeight}}function k(){return o}function l(){var a=_mainScrollEl?_mainScrollEl:document.body,b=a.scrollLeft,c=a.scrollTop;b=b?b:0,c=c?c:0,o={left:b,top:c}}function m(){l(),j(),s.call(this,n,o)}var n,o,p,q,r,s,t=a("nori/events/EventCreator");return{initializeBrowserWindowEventStreams:b,setPositionUIElementsOnChangeCB:c,getMainScrollingView:e,setMainScrollingView:f,getCurrentViewPortSize:i,getCurrentViewPortScroll:k}};b.exports=c()}),define("nori/view/MixinComponentViews",function(a,b){var c=function(){function b(){return i}function c(b,c,e){var f;if("string"==typeof c){var j=a(c);f=d(j())()}else f=c;g[b]={htmlTemplate:i.getTemplate(h+b),controller:f,mountPoint:e}}function d(b){var c,d,e,f=a("nori/view/ViewComponent"),g=a("nori/view/MixinEventDelegator"),h=a("nori/utils/MixinObservableSubject"),i=a("nori/model/SimpleStore");return c=[f(),g(),h(),i(),b],b.mixins&&(c=c.concat(b.mixins)),d=Nori.assignArray({},c),e=d.initialize,d.initialize=function(a){d.initializeComponent(a),e.call(d,a)},function(){return _.assign({},d)}}function e(a,b){var c=g[a];return c?(c.controller.isInitialized()?c.controller.update():(b=b||c.mountPoint,c.controller.initialize({id:a,template:c.htmlTemplate,mountPoint:b})),c.controller.renderPipeline(),void c.controller.mount()):void console.warn("No componentView mapped for id: "+a)}function f(){return _.assign({},g)}var g=Object.create(null),h="template__",i=a("nori/utils/Templating");return{template:b,mapViewComponent:c,createComponentView:d,showViewComponent:e,getComponentViewMap:f}};b.exports=c()}),define("nori/view/MixinEventDelegator",function(a,b){var c=function(){function a(a){e=a}function b(){return e}function c(){if(e){f=Object.create(null);for(var a in e)if(e.hasOwnProperty(a)){var b=a.split(","),c=e[a];if(!isFunction(c))return void console.warn("EventDelegator, handler for "+a+" is not a function");b.forEach(function(b){b=b.trim();var d=b.split(" ")[0].trim(),e=b.split(" ")[1].trim(),g=document.querySelector(e);g?f[a]=Rx.Observable.fromEvent(g,d).subscribe(c):console.log("Cannot add event to invalid DOM element: "+e)})}}}function d(){if(e){for(var a in f)f[a].dispose(),delete f[a];f=Object.create(null)}}var e,f;return{setEvents:a,getEvents:b,undelegateEvents:d,delegateEvents:c}};b.exports=c}),define("nori/view/MixinModelStateViews",function(a,b){var c=function(){function b(){j=this,Nori.model().subscribe(function(){c()})}function c(){d()}function d(){var a=Nori.model().getState().currentState;a&&a!==l&&(l=a,h.bind(j)(l))}function e(a){m=a}function f(){return m}function g(a,b,c){n[a]=b,this.mapViewComponent(b,c,m)}function h(a){var b=n[a];return b?(i(),k=b,this.showViewComponent(k),TweenLite.set(m,{alpha:0}),TweenLite.to(m,.25,{alpha:1,ease:Quad.easeIn}),void o.viewChanged(k)):void console.warn("No view mapped for route: "+a)}function i(){k&&j.getComponentViewMap()[k].controller.unmount(),k=""}var j,k,l,m,n=Object.create(null),o=a("nori/events/EventCreator");return{initializeStateViews:b,showViewForCurrentModelState:d,showStateViewComponent:h,setViewMountPoint:e,getViewMountPoint:f,mapStateToViewComponent:g}};b.exports=c()}),define("nori/view/MixinNudoruControls",function(a,b){var c=function(){function b(){j.initialize("tooltip__container"),i.initialize("toast__container"),k.initialize("messagebox__container"),m.initialize()}function c(){return l}function d(a){return k.add(a)}function e(a){k.remove(a)}function f(a,b){return c().alert(b||"Alert",a)}function g(a){return i.add(a)}function h(a,b,c){return g({title:b||"",type:c||i.type().DEFAULT,message:a})}var i=a("nudoru/component/ToastView"),j=a("nudoru/component/ToolTipView"),k=a("nudoru/component/MessageBoxView"),l=a("nudoru/component/MessageBoxCreator"),m=a("nudoru/component/ModalCoverView");return{initializeNudoruControls:b,mbCreator:c,addMessageBox:d,removeMessageBox:e,addNotification:g,alert:f,notify:h}};b.exports=c()}),define("nori/view/MixinRouteViews",function(a,b){var c=function(){function b(){j=this,Nori.router().subscribe(function(a){c(a.routeObj)})}function c(a){h.bind(j)(a.route)}function d(a){this.showRouteViewComponent(Nori.getCurrentRoute().route),a||Nori.router().notifySubscribers()}function e(a){l=a}function f(){return l}function g(a,b,c){m[a]=b,this.mapViewComponent(b,c,l)}function h(a){var b=m[a];return b?(i(),k=b,this.showViewComponent(k),TweenLite.set(l,{alpha:0}),TweenLite.to(l,.25,{alpha:1,ease:Quad.easeIn}),void n.viewChanged(k)):void console.warn("No view mapped for route: "+a)}function i(){k&&j.getComponentViewMap()[k].controller.unmount(),k=""}var j,k,l,m=Object.create(null),n=a("nori/events/EventCreator");return{initializeRouteViews:b,showViewFromURLHash:d,showRouteViewComponent:h,setViewMountPoint:e,getViewMountPoint:f,mapRouteToViewComponent:g}};b.exports=c()}),define("nori/view/ViewComponent",function(a,b){var c=function(){function b(a){J=a,K=a.id,L=a.template,O=a.mountPoint,this.setState(this.getInitialState()),this.setEvents(this.defineEvents()),P=!0}function c(){return void 0}function d(a){var b;if(b=isObject(a)?a:Nori.model().getMap(a)||Nori.model().getMapCollection(a),!b)throw new Error("ViewComponent bindMap, map or mapcollection not found: "+a);if(!isFunction(b.subscribe))throw new Error("ViewComponent bindMap, map or mapcollection must be observable: "+a);b.subscribe(this.update.bind(this))}function e(a){Q.push(a)}function f(a){var b=Q.indexOf(a);Q[b].dispose(),Q.splice(b,1)}function g(){return void 0}function h(){this.componentUpdate()}function i(){var a=this.getState(),b=this.componentWillUpdate();this.shouldComponentUpdate(b)&&(this.setState(b),Q.forEach(function(a){a.update()}),R&&this.shouldComponentRender(a)&&(this.unmount(),this.renderPipeline(),this.mount()),this.componentDidUpdate())}function j(a){return existy(a)}function k(a){return!_.isEqual(a,this.getState())}function l(){}function m(){}function n(){this.componentRender()}function o(){return L(this.getState())}function p(){this.componentWillRender&&this.componentWillRender(),Q.forEach(function(a){a.renderPipeline()}),M=this.render(),this.componentDidRender&&this.componentDidRender()}function q(){}function r(){}function s(){if(!M)throw new Error("Component "+K+" cannot mount with no HTML. Call render() first?");this.componentWillMount&&this.componentWillMount(),R=!0,F(S.render({target:O,html:M})),this.delegateEvents&&this.delegateEvents(),this.componentDidMount&&this.componentDidMount()}function t(){}function u(){}function v(){this.componentWillUnmount(),R=!1,this.undelegateEvents&&this.undelegateEvents(),S.render({target:O,html:""}),F(null),this.componentDidUnmount()}function w(){}function x(){return P}function y(){return J}function z(){return R}function A(){this.setState({})}function B(){return K}function C(){return L}function D(a){L=_.template(a)}function E(){return N}function F(a){N=a}function G(){return M}function H(a){M=a}function I(){return Q.slice(0)}{var J,K,L,M,N,O,P=!1,Q=[],R=!1,S=a("nori/utils/Renderer");a("nori/events/EventCreator")}return{initializeComponent:b,defineEvents:c,isInitialized:x,getConfigProps:y,getInitialState:A,getID:B,getTemplate:C,setTemplate:D,getHTML:G,setHTML:H,getDOMNode:E,setDOMNode:F,isMounted:z,bindMap:d,componentWillUpdate:g,shouldComponentUpdate:j,componentUpdate:i,update:h,componentDidUpdate:l,shouldComponentRender:k,componentWillRender:m,renderPipeline:n,componentRender:p,render:o,componentDidRender:q,componentWillMount:r,mount:s,componentDidMount:t,componentWillUnmount:u,unmount:v,componentDidUnmount:w,addChild:e,removeChild:f,getChildren:I}};b.exports=c});var Nori=function(){function a(){return q}function b(){return r}function c(){return o}function d(){return p}function e(){return _.assign({},window.APP_CONFIG_DATA||{})}function f(){return r.getCurrentRoute()}function g(){r.initialize(),p=p||k({}),o=o||j({})}function h(a,b){return b.forEach(function(b){a=_.assign(a,b)}),a}function i(a){return a.mixins.push(this),l(a)}function j(a){return o=l(a)}function k(a){return p=l(a)}function l(a){var b;return a.mixins&&(b=a.mixins),b.push(a),h({},b)}function m(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b}function n(a,b,c){return function(d){d=d||event;var e=d.currentTarget||this,f=c||this;b.call(f,a in e?e[a]:e.getAttribute(a))}}var o,p,q=require("nori/utils/Dispatcher"),r=require("nori/utils/Router");return _.templateSettings.interpolate=/{{([\s\S]+?)}}/g,{initializeApplication:g,config:e,dispatcher:a,router:b,model:c,view:d,createApplication:i,createApplicationModel:j,createApplicationView:k,buildFromMixins:l,getCurrentRoute:f,assignArray:h,prop:m,withAttr:n}}();