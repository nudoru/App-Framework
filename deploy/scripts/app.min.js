/*! app-framework 10-06-2015 */
define("TT.Commands.RouteChangedCommand",function(a,b,c){c.execute=function(a){TT.view().updateOnRouteChange(a)}}),define("TT.Model.FakeData",function(a,b,c){"use strict";function d(){return l}function e(){return m}function f(){return n}function g(){s.initialize();for(var a=70,b=500,c=5e3,d=0;10>d;d++)o.push(s.getFLName());for(var e=0;a>e;e++)l.push(h());for(var f=0;b>f;f++)m.push(i());for(var g=0;c>g;g++)n.push(j())}function h(){return{id:s.fakeGUID(),name:s.getFLName(),manager:t.rndElement(o),type:"type_b",team:"Dev Team",brlTeamManager:t.rndElement(o),brlSrLeader:t.rndElement(o),jobTitle:t.rndElement(p),primaryRole:t.rndElement(q),secondaryRole:t.rndElement(q),active:"Y",inActiveDate:"",keySkills:t.rndElement(q),comments:"No comments",photoURL:"img/animals/kowala.jpg"}}function i(){return{id:s.fakeGUID(),title:s.getText(3,6),description:k(2),status:"active",workType:"Develop",requester:s.getFLName(),audience:t.rndElement(r),audienceSize:u.rndNumber(10,500).toString(),projectLead:s.getFLName(),startDate:s.getDate().string,endDate:s.getDate().string,deploymentDate:s.getDate().string,finishDate:s.getDate().string,comments:k(1),teamLeading:"Dev Team",duration:u.rndNumber(1,5).toString()}}function j(){var a=t.rndElement(l),b=t.rndElement(m);return{id:s.fakeGUID(),resourceID:a.id,resourceName:a.name,projectID:b.id,projectTitle:b.title,startDate:s.getDate().string,endDate:s.getDate().string,role:a.primaryRole,allocation:u.rndNumber(10,25).toString(),comments:s.getText(3,6),timeData:"",allocationData:""}}function k(a){for(var b="",c=u.rndNumber(1,a),d=0;c>d;d++)b+="<p>"+s.getParagraph(3,7)+"</p>";return b}var l=[],m=[],n=[],o=[],p=["ITD","ID","Consultant"],q=["Analysis","Design","Develop","Implement","Evaluate","Consult"],r=["Information Technology","Asset Management","Human Resources","Institutional","A&O","Client Services","Finance","Internal Audit","Marketing","Risk Management"],s=a("nudoru.utils.NLorem"),t=a("nudoru.utils.ArrayUtils"),u=(a("nudoru.utils.StringUtils"),a("nudoru.utils.NumberUtils"));c.initialize=g,c.getPeople=d,c.getProjects=e,c.getAssignments=f}),define("TT.Model.TimeTrackerAppModel",function(a,b,c){function d(){this._super.initialize()}c.initialize=d}),define("TT.View.ControlsTestingSubView",function(a,b,c){function d(a){l.initialize(),this._super.initialize(a)}function e(){console.log(this.getID()+", subview did mount"),f=document.getElementById("action-one"),g=document.getElementById("action-two"),h=document.getElementById("action-three"),i=document.getElementById("action-four"),j=document.getElementById("action-five"),k=document.getElementById("action-six"),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"L",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"B",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"R",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"T",targetEl:i,type:"information"}),f.addEventListener("click",function(){Nori.view().addMessageBox({title:l.getSentence(2,4),content:l.getParagraph(2,4),type:"warning",modal:!0,width:500})}),g.addEventListener("click",function(){Nori.view().addMessageBox({title:l.getSentence(10,20),content:l.getParagraph(2,4),type:"default",modal:!1,buttons:[{label:"Yes",id:"yes",type:"default",icon:"check",onClick:function(){console.log("yes")}},{label:"Maybe",id:"maybe",type:"positive",icon:"cog",onClick:function(){console.log("maybe")}},{label:"Nope",id:"nope",type:"negative",icon:"times"}]})}),h.addEventListener("click",function(){Nori.view().addNotification({title:l.getSentence(3,6),type:"information",content:l.getParagraph(1,2)}),m.remove(i)}),i.addEventListener("click",function(){console.log("Four")}),j.addEventListener("click",function(){n.publish(o.CHANGE_ROUTE,{route:"/one",data:{prop:"some data",moar:"25"}})}),k.addEventListener("click",function(){n.publish(o.CHANGE_ROUTE,{route:"/two"})})}var f,g,h,i,j,k,l=a("nudoru.utils.NLorem"),m=a("nudoru.components.ToolTipView"),n=a("Nori.Events.Emitter"),o=a("Nori.Events.AppEvents");c.initialize=d,c.viewDidMount=e}),define("TT.View.ModuleNavView",function(a,b,c){function d(){e("btn_assignments","/Assignments"),e("btn_timecard","/Timecard"),e("btn_forecast","/Forecast")}function e(a,b){var c=document.getElementById(a),d=c.parentNode;h[a]={buttonEl:c,liEl:d,route:b,clickStream:Rx.Observable.fromEvent(c,i.mouseClickEvtStr()).subscribe(function(){f(a)})}}function f(a){l.publish(j.CHANGE_ROUTE,{route:h[a].route})}function g(a){for(var b in h){var c=h[b];c.route===a?k.addClass(c.liEl,"active"):k.removeClass(c.liEl,"active")}}var h=Object.create(null),i=a("nudoru.utils.BrowserInfo"),j=a("Nori.Events.AppEvents"),k=a("nudoru.utils.DOMUtils"),l=a("Nori.Events.Emitter");c.initialize=d,c.highlightModule=g}),define("TT.View.TemplateSubView",function(){}),define("TT.View.TimeTrackerAppView",function(a,b,c){function d(){j=this,j.initializeApplicationElements(),j.initializeComponents(),j.setRouteViewMountPoint("contents"),f(),g(),h(),q.initialize(),e()}function e(){j.showView("UserProfilePanel")}function f(){j.mapView("UserProfilePanel","TT.View.UserProfilePanelView",!1,"userprofilepanel")}function g(){k=document.getElementById("btn_main_projects"),l=document.getElementById("btn_main_people"),m=document.getElementById("btn_main_help"),n=Rx.Observable.fromEvent(k,s.mouseClickEvtStr()).subscribe(function(){j.addMessageBox({title:"Projects",content:"This feature is still in development!",type:"default",modal:!0,width:350})}),o=Rx.Observable.fromEvent(l,s.mouseClickEvtStr()).subscribe(function(){j.addMessageBox({title:"People",content:"This feature is still in development!",type:"default",modal:!0,width:350})}),p=Rx.Observable.fromEvent(m,s.mouseClickEvtStr()).subscribe(function(){j.addMessageBox({title:"How Do I?",content:"This feature is still in development!",type:"information",modal:!0,width:550})})}function h(){r.add({title:"",content:"View Projects List",position:"B",targetEl:k,type:"information",width:75}),r.add({title:"",content:"View People List",position:"B",targetEl:l,type:"information",width:75}),r.add({title:"",content:"Access information for performing common tasks",position:"B",targetEl:m,type:"information",width:75}),r.add({title:"",content:"Add and remove assignments from your active list",position:"R",targetEl:document.getElementById("btn_assignments"),type:"information"}),r.add({title:"",content:"Log time to assignments on your active list",position:"R",targetEl:document.getElementById("btn_timecard"),type:"information"}),r.add({title:"",content:"View capacity based on your estimated alloation",position:"R",targetEl:document.getElementById("btn_forecast"),type:"information"})}function i(a){q.highlightModule(a.route)}{var j,k,l,m,n,o,p,q=a("TT.View.ModuleNavView"),r=a("nudoru.components.ToolTipView"),s=a("nudoru.utils.BrowserInfo");a("Nori.Events.AppEvents"),a("nudoru.utils.DOMUtils"),a("Nori.Events.Emitter")}c.initialize=d,c.render=e,c.updateOnRouteChange=i}),define("TT.View.UserProfilePanelView",function(a,b,c){function d(a){this._super.initialize(a)}function e(){console.log(this.getID()+", subview did mount")}a("nudoru.utils.BrowserInfo"),a("Nori.Events.AppEvents"),a("nudoru.utils.DOMUtils"),a("Nori.Events.Emitter");c.initialize=d,c.viewDidMount=e}),function(){function a(){var a=require("Nori.Events.AppEvents");TT.mapEventCommand(a.ROUTE_CHANGED,"TT.Commands.RouteChangedCommand")}function b(){TT.mapRouteView("/","Timecard","TT.View.TemplateSubView"),TT.mapRouteView("/controls","ControlsTesting","TT.View.ControlsTestingSubView"),TT.mapRouteView("/test","TestSubView","TT.View.TemplateSubView"),TT.mapRouteView("/one","TestSubView1","TT.View.TemplateSubView"),TT.mapRouteView("/two","TestSubView2","TT.View.TemplateSubView"),TT.mapRouteView("/three","TestSubView3","TT.View.TemplateSubView"),TT.mapRouteView("/Forecast","Forecast","TT.View.TemplateSubView"),TT.mapRouteView("/Assignments","Assignments","TT.View.TemplateSubView"),TT.mapRouteView("/Timecard","Timecard","TT.View.TemplateSubView")}function c(){console.time("Gen fake");var a=require("TT.Model.FakeData");a.initialize(),console.timeEnd("Gen fake");var b=TT.createModelCollection({id:"peopleset"}),c=TT.createModelCollection({id:"projectsset"}),d=TT.createModelCollection({id:"assignmentsset"});console.time("Create set"),b.addFromObjArray(a.getPeople(),"id",!1),c.addFromObjArray(a.getProjects(),"id",!1),d.addFromObjArray(a.getAssignments(),"id",!1),console.timeEnd("Create set");var e,f=b.getFirst(),g=f.get("name");e=d.filter("resourceName",g)}var d=require("nudoru.utils.BrowserInfo");d.notSupported&&alert("Your browser is not supported! Please use IE 9+, Firefox, Chrome or Safari."),window.onload=function(){var d;window.TT=Nori.createApplication(),d=TT.createApplicationView(require("TT.View.TimeTrackerAppView")),TT.initialize({view:d}),a(),b(),c(),TT.view().removeLoadingMessage(),TT.setCurrentRoute(TT.router().getCurrentRoute())}}();