/*! app-framework 30-08-2015 */
define("nori/utils/Cookie",function(a,b){var c=function(){function a(a,b,c){var d,e="";c&&(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()),document.cookie=a+"="+b+e+"; path=/"}function b(a){var b,c,d=a+"=",e=document.cookie.split(";");for(b=e.length;b--;){for(c=e[b];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(d))return c.substring(d.length,c.length)}return null}function c(b){a(b,"",-1)}return{create:a,read:b,remove:c}};b.exports=c()}),define("nori/utils/Dispatcher",function(a,b){var c=function(){function a(a,b,c,d){var e=window;is.falsey(a)&&console.warn("Dispatcher: Fasley event string passed for handler",b),is.falsey(b)&&console.warn("Dispatcher: Fasley handler passed for event string",a),(c||c===!1)&&(c===!0||c===!1?d=c:e=c),n[a]||(n[a]=[]);var f=new Rx.Subject;return n[a].push({once:d,priority:0,handler:b,context:e,subject:f,type:0}),f.subscribe(b.bind(e))}function b(){return k?void m.onNext(!0):(m=new Rx.Subject,k=Rx.Observable.interval(1).pausable(m),void(l=k.subscribe(c)))}function c(){var a=r.shift();a?(e(a),f(a)):m.onNext(!1)}function d(a){q.push(a),r.push(a),b()}function e(a){for(var b in o)o[b].handler(a)}function f(a){var b,c=n[a.type];if(c)for(b=c.length;b--;){var d=c[b];0===d.type&&d.subject.onNext(a),d.once&&g(a.type,d.handler)}}function g(a,b){if(void 0!==n[a]){for(var c=n[a],d=-1,e=0,f=c.length;f>e;e++)c[e].handler===b&&(d=e,c[e].subject.onCompleted(),c[e].subject.dispose(),c[e]=null);-1!==d&&(c.splice(d,1),0===c.length&&delete n[a])}}function h(){return q.slice(0)}function i(a){var b="ID_"+p++;return o[b]={id:b,handler:a},b}function j(a){o.hasOwnProperty(a)&&delete o[a]}var k,l,m,n={},o={},p=0,q=[],r=[];return{subscribe:a,unsubscribe:g,publish:d,getLog:h,registerReceiver:i,unregisterReceiver:j}};b.exports=c()}),define("nori/utils/Keyboard",function(a,b){var c=function(){function a(a,b){a=a||document,b=b||"keydown";var c=Rx.Observable.fromEvent(a,b);k=c.map(function(a){return a.keyCode}).map(function(a){return i(a)}).subscribe(h)}function b(){return _.assign({},m)}function c(a){return m.hasOwnProperty(a)}function d(a,b,c){"string"==typeof a&&(a=[a]),a.forEach(function(a){e(a,b,c)})}function e(a,b,d){c(a)&&(d=d||window,l[a]=b.bind(d))}function f(a){"string"==typeof a&&(a=[a]),a.forEach(function(a){g(a)})}function g(a){delete l[a]}function h(a){l.hasOwnProperty(a)&&l[a](a)}function i(a){for(var b in m)if(m[b]===""+a)return b;return void 0}function j(){l=void 0,k.dispose()}var k,l={},m={backspace:"8",tab:"9",enter:"13",shift:"16",ctrl:"17",alt:"18",pause_break:"19",caps_lock:"20",escape:"27",page_up:"33","page down":"34",end:"35",home:"36",left:"37",up:"38",right:"39",down:"40",insert:"45","delete":"46",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",a:"65",b:"66",c:"67",d:"68",e:"69",f:"70",g:"71",h:"72",i:"73",j:"74",k:"75",l:"76",m:"77",n:"78",o:"79",p:"80",q:"81",r:"82",s:"83",t:"84",u:"85",v:"86",w:"87",x:"88",y:"89",z:"90","left_window key":"91","right_window key":"92",select_key:"93","numpad 0":"96","numpad 1":"97","numpad 2":"98","numpad 3":"99","numpad 4":"100","numpad 5":"101","numpad 6":"102","numpad 7":"103","numpad 8":"104","numpad 9":"105",multiply:"106",add:"107",subtract:"109","decimal point":"110",divide:"111",f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",f11:"122",f12:"123",num_lock:"144",scroll_lock:"145",semi_colon:"186",equal_sign:"187",comma:"188",dash:"189",period:"190",forward_slash:"191",grave_accent:"192",open_bracket:"219",backslash:"220",closebracket:"221",single_quote:"222"};return{initialize:a,getKeyCodes:b,mapKey:d,unmapKey:f,dispose:j}};b.exports=c}),define("nori/utils/MixinObservableSubject",function(a,b){var c=function(){function a(a){return f.hasOwnProperty(a)||(f[a]=new Rx.Subject),f[a]}function b(b,c){return is.string(b)?a(b).subscribe(c):e.subscribe(b)}function c(a){e.onNext(a)}function d(a,b){f.hasOwnProperty(a)?f[a].onNext(b):console.warn("MixinObservableSubject, no subscribers of "+a)}var e=new Rx.Subject,f={};return{subscribe:b,createSubject:a,notifySubscribers:c,notifySubscribersOf:d}};b.exports=c}),define("nori/utils/Renderer",function(a,b){var c=function(){function b(a){var b,d=a.target,e=a.html,f=document.querySelector(d),g=a.callback;return f.innerHTML="",e&&(b=c.HTMLStrToNode(e),f.appendChild(b)),g&&g(b),b}var c=a("nudoru/browser/DOMUtils");return{render:b}};b.exports=c()}),define("nori/utils/Router",function(a,b){var c=function(){function b(){j=Rx.Observable.fromEvent(window,"hashchange").subscribe(d)}function c(a){return k.subscribe(a)}function d(){var a={routeObj:e(),fragment:h()};k.onNext(a)}function e(){var a=h(),b=a.split("?"),c="/"+b[0],d=decodeURIComponent(b[1]),e=f(d);return"=undefined"===d&&(e={}),{route:c,data:e}}function f(a){var b={},c=a.split("&");return c.forEach(function(a){var c=a.split("=");b[c[0]]=c[1]}),b}function g(a,b){var c=a,d=[];if(!l.isNull(b)){c+="?";for(var e in b)"undefined"!==e&&b.hasOwnProperty(e)&&d.push(e+"="+encodeURIComponent(b[e]));c+=d.join("&")}i(c)}function h(){var a=location.hash.slice(1);return a.toString().replace(/\/$/,"").replace(/^\//,"")}function i(a){window.location.hash=a}var j,k=new Rx.Subject,l=a("nudoru/core/ObjectUtils");return{initialize:b,subscribe:c,notifySubscribers:d,getCurrentRoute:e,set:g}},d=c();d.initialize(),b.exports=d}),define("nori/utils/Rx",function(a,b){b.exports={dom:function(a,b){var c=document.querySelector(a);return c?Rx.Observable.fromEvent(c,b.trim()):void console.warn("nori/utils/Rx, dom, invalid DOM selector: "+a)},from:function(a){return Rx.Observable.from(a)},interval:function(a){return Rx.Observable.interval(a)},doEvery:function(a,b){return this.interval(a).subscribe(b)},just:function(a){return Rx.Observable.just(a)},empty:function(){return Rx.Observable.empty()}}}),define("nori/utils/Templating",function(a,b){var c=function(){function b(a,b){m[a]=b}function c(a){var b=m[a];return b?j(b):void 0}function d(a){var b,c=document.getElementById(a);return c?b=c.innerHTML:(console.warn('nudoru/core/Templating, template not found: "'+a+'"'),b="<div>Template not found: "+a+"</div>"),j(b)}function e(a){if(n[a])return n[a];var b=c(a);return b||(b=d(a)),n[a]=b,b}function f(){var a=Array.prototype.slice.call(document.getElementsByTagName("script"),0);return a.filter(function(a){return"text/template"===a.getAttribute("type")}).map(function(a){return a.getAttribute("id")})}function g(a){if(o[a])return o[a];var b=_.template(e(a));return o[a]=b,b}function h(a,b){var c=g(a);return c(b)}function i(a,b){return p.HTMLStrToNode(h(a,b))}function j(a){return a.trim()}function k(a){return a.replace(/(\r\n|\n|\r|\t)/gm,"").replace(/>\s+</g,"><")}function l(){var a=f();a.forEach(function(a){var b=k(e(a));console.log(a,b)})}var m=Object.create(null),n=Object.create(null),o=Object.create(null),p=a("nudoru/browser/DOMUtils");return{addTemplate:b,getSource:e,getAllTemplateIDs:f,processForDOMInsertion:l,getTemplate:g,asHTML:h,asElement:i}};b.exports=c()}),define("nori/action/ActionConstants",function(a,b){var c=a("nudoru/core/ObjectUtils");_.merge(b.exports,c.keyMirror({CHANGE_STORE_STATE:null}))}),define("nori/action/ActionCreator",function(a,b){var c=a("nori/action/ActionConstants"),d={changeStoreState:function(a,b){var d={type:c.CHANGE_STORE_STATE,payload:{id:b,data:a}};return d}};b.exports=d}),define("nori/service/Rest",function(a,b){var c=function(){function a(a){var b=new XMLHttpRequest,c=a.json||!1,d=a.method.toUpperCase()||"GET",e=a.url,f=a.data||null;return new Rx.Observable.create(function(a){function g(b,c){c=c||"",a.onError(b+" "+c)}b.open(d,e,!0),b.onreadystatechange=function(){if(4===b.readyState)if(b.status>=200&&b.status<300)try{c?a.onNext(JSON.parse(b.responseText)):a.onError(b.responseText)}catch(d){g("Result","Error parsing result. Status: "+b.status+", Response: "+b.response)}else g(b.status,b.statusText)},b.onerror=function(){g("Network error")},b.ontimeout=function(){g("Timeout")},b.onabort=function(){g("About")},c&&"GET"!==d?b.setRequestHeader("Content-Type","application/json; charset=utf-8"):c&&"GET"===d&&b.setRequestHeader("Accept","application/json; odata=verbose"),b.send(f)})}return{request:a}};b.exports=c()}),define("nori/service/SocketIO",function(a,b){var c=function(){function a(){j.on(k.NOTIFY_CLIENT,b)}function b(a){a.type===k.PING?d(k.PONG,{}):a.type===k.PONG&&console.log("SOCKET.IO PONG!"),f(a)}function c(){d(k.PING,{})}function d(a,b){j.emit(k.NOTIFY_SERVER,{type:a,payload:b})}function e(a){return i.subscribe(a)}function f(a){i.onNext(a)}function g(){return i.getValue()}function h(){return _.assign({},k)}var i=new Rx.BehaviorSubject,j=io(),k={PING:"ping",PONG:"pong",NOTIFY_CLIENT:"notify_client",NOTIFY_SERVER:"notify_server",CONNECT:"connect",DROPPED:"dropped",USER_CONNECTED:"user_connected",USER_DISCONNECTED:"user_disconnected",EMIT:"emit",BROADCAST:"broadcast",SYSTEM_MESSAGE:"system_message",MESSAGE:"message",CREATE_ROOM:"create_room",JOIN_ROOM:"join_room",LEAVE_ROOM:"leave_room"};return{events:h,initialize:a,ping:c,notifyServer:d,subscribe:e,notifySubscribers:f,getLastNotification:g}};b.exports=c()}),define("nori/store/Map",function(a,b){var c=function(){function a(a){if(!a.id)throw new Error("Store must be init'd with an id");A=this,B=a.id,a.store?(D=!0,F=a.store):a.json&&b(a.json)}function b(a){D=!0;try{F=JSON.parse(a)}catch(b){throw new Error("MapCollection, error parsing JSON:",a,b)}}function c(){return B}function d(){F={},D=!0}function e(){return D}function f(){D=!1}function g(a,b){"object"==typeof a?F=_.merge({},F,a):F[a]=b,D=!0,w("set_key")}function h(a,b,c){F[a][b]=c,D=!0,w("set_key")}function i(a){var b=k(a)?F[a]:void 0;return b&&(b=_.cloneDeep(b)),b}function j(a,b){var c=k(a)?F[a]:void 0,d=null;return c&&(d=_.cloneDeep(c[b])),d}function k(a){return F.hasOwnProperty(a)}function l(){if(!D&&E)return E;var a=[];for(var b in F)a.push({key:b,value:F[b]});return E=a,D=!1,a}function m(){return n().length}function n(){return Object.keys(F)}function o(){return l().map(function(a){return a.value})}function p(a){delete F[a]}function q(a){return o().filter(a)}function r(){return l()[0]}function s(){var a=l();return a[a.length-1]}function t(a){return l()[a]}function u(){return _.merge({},F)}function v(a){var b=Object.create(null);for(var c in a)F.hasOwnProperty(c)&&(b[a[c]]=F[c]);return b}function w(a){var b={id:B,mapType:"store"};A.notifySubscribers(b),C.dispatchChange&&C.dispatchChange({id:B},a||"map")}function x(){return JSON.stringify(F)}function y(a){C=a}function z(){return C}var A,B,C,D=!1,E=[],F=Object.create(null);return{initialize:a,getID:c,clear:d,isDirty:e,markClean:f,setJSON:b,set:g,setKeyProp:h,get:i,getKeyProp:j,has:k,remove:p,keys:n,values:o,entries:l,filterValues:q,size:m,first:r,last:s,getAtIndex:t,toObject:u,transform:v,toJSON:x,setParentCollection:y,getParentCollection:z}};b.exports=c}),define("nori/store/MapCollection",function(a,b){var c=function(){function a(a){if(!a.id)throw new Error("StoreCollection must be init'd with an id");E=this,F=a.id,a.stores&&h.call(E,a.stores)}function b(){var a={};return a=e()?{value:I[H++],done:!e()}:c()}function c(){return{value:I[H],done:!e()}}function d(){return H=0,I[H]}function e(){return H<I.length}function f(){var a=!1;return y(function(b){b.isDirty()&&(a=!0)}),a}function g(){y(function(a){a.markClean()})}function h(a){a.forEach(function(a){l(a)})}function i(a,b){a.forEach(function(a){var c;c=a.hasOwnProperty(b)?a[b]:F+"child"+I.length,l(Nori.store().createMap({id:c,store:a}))}),q(F,"add_map")}function j(a,b){a.forEach(function(a){var c,d;try{d=JSON.parse(a)}catch(e){throw new Error("MapCollection, error parsing JSON:",a,e)}c=d.hasOwnProperty(b)?d[b]:F+"child"+I.length,l(Nori.store().createMap({id:c,store:d}))}),q(F,"add_map")}function k(){return F}function l(a){var b=p(a.getID());a.setParentCollection(E),b>=0?I[b]=a:I.push(a),q(F,"add_map")}function m(a){var b=p(a);b>=0?(I[b].setParentCollection(null),I[b]=null,I.splice(b,1),q(F,"remove_map")):console.log(F+" remove, store not in collection: "+a)}function n(){I.forEach(function(a){a.setParentCollection(null)}),I=[],q(F,"remove_map")}function o(a){return I.filter(function(b){return b.getID()===a})[0]}function p(a){return I.map(function(a){return a.getID()}).indexOf(a)}function q(a,b){var c={id:F,type:b||"",mapType:"collection",mapID:a.id};E.notifySubscribers(c),G&&G.dispatchChange({id:F,store:o()})}function r(a){return I[a]}function s(){return I.length}function t(){return I[0]}function u(){return I[I.length-1]}function v(a){return I[a]}function w(a){return I.filter(a)}function x(a,b){return I.filter(function(c){return c.get(a)===b})}function y(a){return I.forEach(a)}function z(a){return I.map(a)}function A(){var a=[];return I.forEach(function(b){a.push(b.entries())}),a}function B(){return JSON.stringify(I)}function C(a){G=a}function D(){return G}var E,F,G,H=0,I=[];return{initialize:a,current:c,next:b,hasNext:e,rewind:d,getID:k,isDirty:f,markClean:g,add:l,addMapsFromArray:h,addFromObjArray:i,addFromJSONArray:j,remove:m,removeAll:n,getMap:o,hasMap:r,size:s,first:t,last:u,atIndex:v,filter:w,filterByKey:x,forEach:y,map:z,entries:A,toJSON:B,dispatchChange:q,setParentCollection:C,getParentCollection:D}};b.exports=c}),define("nori/store/MixinMapFactory",function(a,b){var c=function(){function b(a,b){var c=Nori.assignArray({},[h(),j(),b]);return c.initialize(a),c}function c(a,b){var c=Nori.assignArray({},[i(),j(),b]);return c.initialize(a),c}function d(a){return g[a]}function e(a){return f[a]}var f=Object.create(null),g=Object.create(null),h=a("nori/store/MapCollection"),i=a("nori/store/Map"),j=a("nori/utils/MixinObservableSubject");return{createMapCollection:b,createMap:c,getMap:d,getMapCollection:e}};b.exports=c()}),define("nori/store/MixinReducerStore",function(a,b){var c=function(){function b(){return l?l.getState():{}}function c(a){_.isEqual(a,l)||(l.setState(a),k.notifySubscribers({}))}function d(a){m=a}function e(a){m.push(a)}function f(){this.createSubject||console.warn("nori/store/MixinReducerStore needs nori/utils/MixinObservableSubject to notify");var b=a("nori/store/SimpleStore");if(k=this,l=b(),!m)throw new Error("ReducerStore, must set a reducer before initialization");h({})}function g(a){console.log("ReducerStore Apply: ",a.type,a.payload),h(a)}function h(a){var d=j(b(),a);c(d),k.handleStateMutation()}function i(){}function j(a,b){return a=a||{},m.forEach(function(c){a=c(a,b)}),a}{var k,l,m=[];a("nori/action/ActionConstants")}return{initializeReducerStore:f,getState:b,setState:c,apply:g,setReducers:d,addReducer:e,applyReducers:h,applyReducersToState:j,handleStateMutation:i}};b.exports=c()}),define("nori/store/SimpleStore",function(a,b){var c=function(){function a(){return _.assign({},c)}function b(a){c=_.assign(c,a)}var c=Object.create(null);return{getState:a,setState:b}};b.exports=c}),define("nori/view/ApplicationView",function(a,b){var c=function(){function b(a){e=this,c(a)}function c(a){if(a){var b=document.querySelector("body");a.forEach(function(a){b.appendChild(f.HTMLStrToNode(e.template().getSource("template__"+a,{})))})}}function d(){var a=document.querySelector("#initialization__cover"),b=document.querySelector(".initialization__message");TweenLite.to(a,1,{alpha:0,ease:Quad.easeOut,onComplete:function(){a.parentNode.removeChild(a)}}),TweenLite.to(b,2,{top:"+=50px",ease:Quad.easeIn,onComplete:function(){a.removeChild(b)}})}var e,f=a("nudoru/browser/DOMUtils");return{initializeApplicationView:b,removeLoadingMessage:d}};b.exports=c()}),define("nori/view/MixinBrowserEvents",function(a,b){var c=function(){function a(a){this.createSubject||console.warn("nori/view/MixinBrowserEvents needs nori/utils/MixinObservableSubject to notify"),a?h(a):i=document,b.bind(this)(),this.createSubject("browserScroll"),this.createSubject("browserResize")}function b(){k=Rx.Observable.fromEvent(window,"resize").throttle(100).subscribe(c.bind(this)),j=Rx.Observable.fromEvent(i,"scroll").throttle(100).subscribe(d.bind(this))}function c(){this.notifySubscribersOf("browserResize",e())}function d(){this.notifySubscribersOf("browserScroll",f())}function e(){return{width:window.innerWidth,height:window.innerHeight}}function f(){var a=i?i:document.body,b=a.scrollLeft,c=a.scrollTop;return b=b?b:0,c=c?c:0,{left:b,top:c}}function g(){return i}function h(a){i=document.querySelector(a)}var i,j,k;return{initializeBrowserEvents:a,getMainScrollingView:g,setMainScrollingView:h,getCurrentViewPortSize:e,getCurrentViewPortScroll:f}};b.exports=c()}),define("nori/view/MixinComponentViews",function(a,b){var c=function(){function b(){return i}function c(b,c,e){var f;if("string"==typeof c){var j=a(c);f=d(j())()}else f=c;g[b]={htmlTemplate:i.getTemplate(h+b),controller:f,mountPoint:e}}function d(b){return function(){var c,d,e,f=a("nori/view/ViewComponent"),g=a("nori/view/MixinEventDelegator"),h=a("nori/utils/MixinObservableSubject"),i=a("nori/store/SimpleStore");return c=[f(),g(),h(),i(),b],b.mixins&&(c=c.concat(b.mixins)),d=Nori.assignArray({},c),e=d.initialize,d.initialize=function(a){d.initializeComponent(a),e.call(d,a)},_.assign({},d)}}function e(a,b){var c=g[a];return c?(c.controller.isInitialized()?c.controller.update():(b=b||c.mountPoint,c.controller.initialize({id:a,template:c.htmlTemplate,mountPoint:b})),c.controller.componentRender(),void c.controller.mount()):void console.warn("No componentView mapped for id: "+a)}function f(){return _.assign({},g)}var g=Object.create(null),h="template__",i=a("nori/utils/Templating");return{template:b,mapViewComponent:c,createComponentView:d,showViewComponent:e,getComponentViewMap:f}};b.exports=c()}),define("nori/view/MixinEventDelegator",function(a,b){var c=function(){function b(a){f=a}function c(){return f}function d(){if(f){g=Object.create(null);for(var a in f)if(f.hasOwnProperty(a)){var b=a.split(","),c=f[a];if(!is["function"](c))return void console.warn("EventDelegator, handler for "+a+" is not a function");b.forEach(function(b){b=b.trim();var d=b.split(" ")[0].trim(),e=b.split(" ")[1].trim();g[a]=h.dom(e,d).subscribe(c)})}}}function e(){if(f){for(var a in g)g[a].dispose(),delete g[a];g=Object.create(null)}}var f,g,h=a("nori/utils/Rx");return{setEvents:b,getEvents:c,undelegateEvents:e,delegateEvents:d}};b.exports=c}),define("nori/view/MixinStoreStateViews",function(a,b){var c=function(){function a(){i=this,this.createSubject("viewChange"),Nori.store().subscribe(function(){b()})}function b(){c()}function c(){var a=Nori.store().getState().currentState;a&&a!==k&&(k=a,g.bind(i)(k))}function d(a){l=a}function e(){return l}function f(a,b,c){m[a]=b,this.mapViewComponent(b,c,l)}function g(a){var b=m[a];return b?(h(),j=b,this.showViewComponent(j),TweenLite.set(l,{alpha:0}),TweenLite.to(l,.25,{alpha:1,ease:Quad.easeIn}),void this.notifySubscribersOf("viewChange",b)):void console.warn("No view mapped for route: "+a)}function h(){j&&i.getComponentViewMap()[j].controller.unmount(),j=""}var i,j,k,l,m=Object.create(null);return{initializeStateViews:a,showViewForCurrentStoreState:c,showStateViewComponent:g,setViewMountPoint:d,getViewMountPoint:e,mapStateToViewComponent:f}};b.exports=c()}),define("nori/view/MixinNudoruControls",function(a,b){var c=function(){function b(){j.initialize("tooltip__container"),i.initialize("toast__container"),k.initialize("messagebox__container"),m.initialize()}function c(){return l}function d(a){return k.add(a)}function e(a){k.remove(a)}function f(a,b){return c().alert(b||"Alert",a)}function g(a){return i.add(a)}function h(a,b,c){return g({title:b||"",type:c||i.type().DEFAULT,message:a})}var i=a("nudoru/component/ToastView"),j=a("nudoru/component/ToolTipView"),k=a("nudoru/component/MessageBoxView"),l=a("nudoru/component/MessageBoxCreator"),m=a("nudoru/component/ModalCoverView");return{initializeNudoruControls:b,mbCreator:c,addMessageBox:d,removeMessageBox:e,addNotification:g,alert:f,notify:h}};b.exports=c()}),define("nori/view/MixinRouteViews",function(a,b){var c=function(){function a(){i=this,this.createSubject("viewChange"),Nori.router().subscribe(function(a){b(a.routeObj)})}function b(a){g.bind(i)(a.route)}function c(a){this.showRouteViewComponent(Nori.getCurrentRoute().route),a||Nori.router().notifySubscribers()}function d(a){k=a}function e(){return k}function f(a,b,c){l[a]=b,this.mapViewComponent(b,c,k)}function g(a){var b=l[a];return b?(h(),j=b,this.showViewComponent(j),TweenLite.set(k,{alpha:0}),TweenLite.to(k,.25,{alpha:1,ease:Quad.easeIn}),void this.notifySubscribersOf("viewChange",b)):void console.warn("No view mapped for route: "+a)}function h(){j&&i.getComponentViewMap()[j].controller.unmount(),j=""}var i,j,k,l=Object.create(null);return{initializeRouteViews:a,showViewFromURLHash:c,showRouteViewComponent:g,setViewMountPoint:d,getViewMountPoint:e,mapRouteToViewComponent:f}};b.exports=c()}),define("nori/view/ViewComponent",function(a,b){var c=function(){function b(a){v=a,w=a.id,x=a.template,A=a.mountPoint,this.setState(this.getInitialState()),this.setEvents(this.defineEvents()),this.createSubject("update"),this.createSubject("mount"),this.createSubject("unmount"),B=!0}function c(){return void 0}function d(a){var b;return(b=is.object(a)?a:Nori.store().getMap(a)||Nori.store().getMapCollection(a))?is["function"](b.subscribe)?void b.subscribe(this.update.bind(this)):void console.warn("ViewComponent bindMap, map or mapcollection must be observable: "+a):void console.warn("ViewComponent bindMap, map or mapcollection not found: "+a)}function e(){return this.getState()}function f(){var a=this.getState(),b=this.componentWillUpdate();this.shouldComponentUpdate(b)&&(this.setState(b),C&&this.shouldComponentRender(a)&&(this.unmount(),this.componentRender(),this.mount()),this.notifySubscribersOf("update",this.getID()))}function g(a){return is.existy(a)}function h(){y=this.render(this.getState())}function i(a){return x(a)}function j(){if(!y)throw new Error("Component "+w+" cannot mount with no HTML. Call render() first?");C=!0,z=D.render({target:A,html:y}),this.delegateEvents&&this.delegateEvents(),this.componentDidMount&&this.componentDidMount(),this.notifySubscribersOf("mount",this.getID())}function k(){}function l(){}function m(){this.componentWillUnmount(),C=!1,this.undelegateEvents&&this.undelegateEvents(),D.render({target:A,html:""}),y="",z=null,this.notifySubscribersOf("unmount",this.getID())}function n(){return B}function o(){return v}function p(){return C}function q(){this.setState({})}function r(){return w}function s(){return z}function t(){return x}function u(a){x=_.template(a)}var v,w,x,y,z,A,B=!1,C=!1,D=a("nori/utils/Renderer");return{initializeComponent:b,defineEvents:c,isInitialized:n,getConfigProps:o,getInitialState:q,getID:r,getTemplate:t,setTemplate:u,getDOMElement:s,isMounted:p,bindMap:d,componentWillUpdate:e,shouldComponentUpdate:g,update:f,componentRender:h,render:i,mount:j,componentDidMount:k,componentWillUnmount:l,unmount:m}};b.exports=c});var Nori=function(){function a(){return l}function b(){return m}function c(){return _.assign({},window.APP_CONFIG_DATA||{})}function d(){return m.getCurrentRoute()}function e(a,b){return b.forEach(function(b){a=_.assign(a,b)}),a}function f(a){return a.mixins.push(this),i(a)}function g(a){return function(){return _.assign({},i(a))}}function h(a){return function(){return _.assign({},i(a))}}function i(a){var b;return a.mixins&&(b=a.mixins),b.push(a),e({},b)}function j(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b}function k(a,b,c){return function(d){d=d||event;var e=d.currentTarget||this,f=c||this;b.call(f,a in e?e[a]:e.getAttribute(a))}}var l=require("nori/utils/Dispatcher"),m=require("nori/utils/Router");return _.templateSettings.interpolate=/{{([\s\S]+?)}}/g,{config:c,dispatcher:a,router:b,createApplication:f,createStore:g,createView:h,buildFromMixins:i,getCurrentRoute:d,assignArray:e,prop:j,withAttr:k}}();